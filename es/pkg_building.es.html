<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Extended version of the rOpenSci packaging guide. This book is a guide for authors, maintainers, reviewers and editors of rOpenSci. The first section of the book contains our guidelines for creating and testing R packages. The second section is dedicated to rOpenSci’s software peer review process: what it is, our policies, and specific guides for authors, editors and reviewers throughout the process. The third and last section features our best practice for nurturing your package once it has been onboarded: how to collaborate with other developers, how to document releases, how to promote your package and how to leverage GitHub as a development platform. The third section also features a chapter for anyone wishing to start contributing to rOpenSci packages.">
<title>rOpenSci Packages: Development, Maintenance, and Peer Review - 1  Guía de empaquetado</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>
<script src="site_libs/quarto-nav/quarto-nav.js"></script><script src="site_libs/quarto-nav/headroom.min.js"></script><script src="site_libs/clipboard/clipboard.min.js"></script><script src="site_libs/quarto-search/autocomplete.umd.js"></script><script src="site_libs/quarto-search/fuse.min.js"></script><script src="site_libs/quarto-search/quarto-search.js"></script><meta name="quarto:offset" content="./">
<link href="./pkg_ci.es.html" rel="next">
<link href="./preface.es.html" rel="prev">
<link href="./images/apple-touch-icon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script><script src="site_libs/quarto-html/popper.min.js"></script><script src="site_libs/quarto-html/tippy.umd.min.js"></script><script src="site_libs/quarto-html/anchor.min.js"></script><link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script><link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript></noscript>
</head>
<body class="nav-sidebar floating">
<p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p>
<!-- End Matomo Code -->



<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">1</span>  <span class="chapter-title">Guía de empaquetado</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">rOpenSci Packages: Development, Maintenance, and Peer Review</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ropensci/dev_guide/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.es.html" class="sidebar-item-text sidebar-link">rOpenSci Dev Guide</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.es.html" class="sidebar-item-text sidebar-link">Prefacio</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Building Your Package</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_building.es.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">1</span>  <span class="chapter-title">Guía de empaquetado</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_ci.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>  <span class="chapter-title">Buenas prácticas de integración continua</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_security.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>  <span class="chapter-title">Buenas prácticas de seguridad en el desarrollo de paquetes</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Software Peer Review of Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_intro.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>  <span class="chapter-title">Revisión por pares del software, ¿por qué? ¿qué?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_policies.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>  <span class="chapter-title">Políticas de la Revisión por Pares de Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_author.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>  <span class="chapter-title">Guía para quienes crean paquetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_reviewer.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>  <span class="chapter-title">Guía para quienes hacen una revisión</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>  <span class="chapter-title">Guide for Editors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor_management.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>  <span class="chapter-title">Gestión editorial</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Maintaining Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_collaboration.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>  <span class="chapter-title">Guía de colaboración</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_changing_maintainers.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>  <span class="chapter-title">Cambio de mantenedores de paquetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_releases.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>  <span class="chapter-title">Releasing a package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_marketing.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>  <span class="chapter-title">Marketing your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_github_grooming.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>  <span class="chapter-title">GitHub Grooming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_evolution.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>  <span class="chapter-title">Package evolution - changing stuff in your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_curation.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>  <span class="chapter-title">Política de gestión de paquetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_contributing.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>  <span class="chapter-title">Guía de Contribución</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendix</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./booknews.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>  <span class="chapter-title">NEWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewtemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>  <span class="chapter-title">Review template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./editortemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>  <span class="chapter-title">Editor’s template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewrequesttemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>  <span class="chapter-title">Review request template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./approval2template.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>  <span class="chapter-title">Reviewer approval comment template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./newstemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>  <span class="chapter-title">NEWS template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bookreleaseissue.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>  <span class="chapter-title">Book release guidance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./redirect.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>  <span class="chapter-title">How to set a redirect</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
<li>
<a href="#nombre-del-paquete-y-metadatos" id="toc-nombre-del-paquete-y-metadatos" class="nav-link active" data-scroll-target="#nombre-del-paquete-y-metadatos"><span class="toc-section-number">1.1</span>  Nombre del paquete y metadatos</a>
  <ul class="collapse">
<li><a href="#c%C3%B3mo-elegir-el-nombre-de-tu-paquete" id="toc-cómo-elegir-el-nombre-de-tu-paquete" class="nav-link" data-scroll-target="#c%C3%B3mo-elegir-el-nombre-de-tu-paquete"><span class="toc-section-number">1.1.1</span>  Cómo elegir el nombre de tu paquete</a></li>
  <li><a href="#crear-metadatos-para-tu-paquete" id="toc-crear-metadatos-para-tu-paquete" class="nav-link" data-scroll-target="#crear-metadatos-para-tu-paquete"><span class="toc-section-number">1.1.2</span>  Crear metadatos para tu paquete</a></li>
  </ul>
</li>
  <li><a href="#plataformas" id="toc-plataformas" class="nav-link" data-scroll-target="#plataformas"><span class="toc-section-number">1.2</span>  Plataformas</a></li>
  <li>
<a href="#api-del-paquete" id="toc-api-del-paquete" class="nav-link" data-scroll-target="#api-del-paquete"><span class="toc-section-number">1.3</span>  API del paquete</a>
  <ul class="collapse">
<li><a href="#nombres-de-funciones-y-argumentos" id="toc-nombres-de-funciones-y-argumentos" class="nav-link" data-scroll-target="#nombres-de-funciones-y-argumentos"><span class="toc-section-number">1.3.1</span>  Nombres de funciones y argumentos</a></li>
  <li><a href="#mensajes-de-la-consola" id="toc-mensajes-de-la-consola" class="nav-link" data-scroll-target="#mensajes-de-la-consola"><span class="toc-section-number">1.3.2</span>  Mensajes de la consola</a></li>
  <li><a href="#interfaces-interactivas-o-gr%C3%A1ficas" id="toc-interfaces-interactivas-o-gráficas" class="nav-link" data-scroll-target="#interfaces-interactivas-o-gr%C3%A1ficas"><span class="toc-section-number">1.3.3</span>  Interfaces interactivas o gráficas</a></li>
  </ul>
</li>
  <li><a href="#estilo-del-c%C3%B3digo" id="toc-estilo-del-código" class="nav-link" data-scroll-target="#estilo-del-c%C3%B3digo"><span class="toc-section-number">1.4</span>  Estilo del código</a></li>
  <li><a href="#archivo-citation" id="toc-archivo-citation" class="nav-link" data-scroll-target="#archivo-citation"><span class="toc-section-number">1.5</span>  Archivo CITATION</a></li>
  <li><a href="#readme" id="toc-readme" class="nav-link" data-scroll-target="#readme"><span class="toc-section-number">1.6</span>  README</a></li>
  <li>
<a href="#documentaci%C3%B3n" id="toc-documentación" class="nav-link" data-scroll-target="#documentaci%C3%B3n"><span class="toc-section-number">1.7</span>  Documentación</a>
  <ul class="collapse">
<li><a href="#docs-general" id="toc-docs-general" class="nav-link" data-scroll-target="#docs-general"><span class="toc-section-number">1.7.1</span>  General</a></li>
  <li><a href="#uso-de-roxygen2" id="toc-uso-de-roxygen2" class="nav-link" data-scroll-target="#uso-de-roxygen2"><span class="toc-section-number">1.7.2</span>  Uso de roxygen2</a></li>
  <li><a href="#urls-en-la-documentaci%C3%B3n" id="toc-urls-en-la-documentación" class="nav-link" data-scroll-target="#urls-en-la-documentaci%C3%B3n"><span class="toc-section-number">1.7.3</span>  URLs en la documentación</a></li>
  </ul>
</li>
  <li>
<a href="#website" id="toc-website" class="nav-link" data-scroll-target="#website"><span class="toc-section-number">1.8</span>  Sitio web de la documentación</a>
  <ul class="collapse">
<li><a href="#docsropensci" id="toc-docsropensci" class="nav-link" data-scroll-target="#docsropensci"><span class="toc-section-number">1.8.1</span>  Construcción automática del sitio web de documentación</a></li>
  <li><a href="#function-grouping" id="toc-function-grouping" class="nav-link" data-scroll-target="#function-grouping"><span class="toc-section-number">1.8.2</span>  Agrupar funciones en el índice</a></li>
  <li><a href="#marca-de-autoresas" id="toc-marca-de-autoresas" class="nav-link" data-scroll-target="#marca-de-autoresas"><span class="toc-section-number">1.8.3</span>  Marca de autores/as</a></li>
  <li><a href="#configurar-la-barra-de-navegaci%C3%B3n" id="toc-configurar-la-barra-de-navegación" class="nav-link" data-scroll-target="#configurar-la-barra-de-navegaci%C3%B3n"><span class="toc-section-number">1.8.4</span>  Configurar la barra de navegación</a></li>
  <li><a href="#mathjax" id="toc-mathjax" class="nav-link" data-scroll-target="#mathjax"><span class="toc-section-number">1.8.5</span>  Mathjax</a></li>
  <li><a href="#logo-del-paquete" id="toc-logo-del-paquete" class="nav-link" data-scroll-target="#logo-del-paquete"><span class="toc-section-number">1.8.6</span>  Logo del paquete</a></li>
  </ul>
</li>
  <li>
<a href="#authorship" id="toc-authorship" class="nav-link" data-scroll-target="#authorship"><span class="toc-section-number">1.9</span>  Autoría</a>
  <ul class="collapse">
<li><a href="#authorship-included-code" id="toc-authorship-included-code" class="nav-link" data-scroll-target="#authorship-included-code"><span class="toc-section-number">1.9.1</span>  Autoría del código incluido en el paquete</a></li>
  </ul>
</li>
  <li><a href="#licencia" id="toc-licencia" class="nav-link" data-scroll-target="#licencia"><span class="toc-section-number">1.10</span>  Licencia</a></li>
  <li><a href="#testeo" id="toc-testeo" class="nav-link" data-scroll-target="#testeo"><span class="toc-section-number">1.11</span>  Testeo</a></li>
  <li><a href="#ejemplos" id="toc-ejemplos" class="nav-link" data-scroll-target="#ejemplos"><span class="toc-section-number">1.12</span>  Ejemplos</a></li>
  <li><a href="#pkgdependencies" id="toc-pkgdependencies" class="nav-link" data-scroll-target="#pkgdependencies"><span class="toc-section-number">1.13</span>  Dependencias del paquete</a></li>
  <li><a href="#estructura-de-base-recomendada" id="toc-estructura-de-base-recomendada" class="nav-link" data-scroll-target="#estructura-de-base-recomendada"><span class="toc-section-number">1.14</span>  Estructura de base recomendada</a></li>
  <li><a href="#control-de-versiones" id="toc-control-de-versiones" class="nav-link" data-scroll-target="#control-de-versiones"><span class="toc-section-number">1.15</span>  Control de versiones</a></li>
  <li>
<a href="#crangotchas" id="toc-crangotchas" class="nav-link" data-scroll-target="#crangotchas"><span class="toc-section-number">1.16</span>  Problemas comunes en CRAN</a>
  <ul class="collapse">
<li><a href="#cranchecks" id="toc-cranchecks" class="nav-link" data-scroll-target="#cranchecks"><span class="toc-section-number">1.16.1</span>  Comprobaciones en CRAN</a></li>
  </ul>
</li>
  <li><a href="#gu%C3%ADa-para-bioconductor" id="toc-guía-para-bioconductor" class="nav-link" data-scroll-target="#gu%C3%ADa-para-bioconductor"><span class="toc-section-number">1.17</span>  Guía para Bioconductor</a></li>
  <li>
<a href="#otras-recomendaciones" id="toc-otras-recomendaciones" class="nav-link" data-scroll-target="#otras-recomendaciones"><span class="toc-section-number">1.18</span>  Otras recomendaciones</a>
  <ul class="collapse">
<li><a href="#aprender-sobre-el-desarrollo-de-paquetes" id="toc-aprender-sobre-el-desarrollo-de-paquetes" class="nav-link" data-scroll-target="#aprender-sobre-el-desarrollo-de-paquetes"><span class="toc-section-number">1.18.1</span>  Aprender sobre el desarrollo de paquetes</a></li>
  </ul>
</li>
  </ul>
<div class="toc-actions">
<div><i class="bi bi-github"></i></div>
<div class="action-links">
<p><a href="https://github.com/ropensci/dev_guide/edit/main/pkg_building.es.Rmd" class="toc-action">Editar esta página</a></p>
<p><a href="https://github.com/ropensci/dev_guide/issues/new" class="toc-action">Informar de un problema</a></p>
<p><a class="toc-action" href="/pkg_building.html">Version in English</a></p>
</div>
</div></nav>
</div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="building" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">1</span>  <span class="chapter-title">Guía de empaquetado</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="cell" type="summaryblock">
<div class="summaryblock">
<p>
rOpenSci acepta paquetes que cumplen nuestras recomendaciones a través de un proceso fluido de <a href="softwarereview_intro.es.html#whatissoftwarereview">Revisión por pares de software</a>. Para garantizar un estilo coherente en todas nuestras herramientas, hemos escrito este capítulo en el que se destacan recomendaciones para el desarrollo de paquetes. Por favor, también lee y aplica nuestro <a href="pkg_ci.es.html">capítulo sobre integración continua (CI)</a>. En la tercera sección de este libro, que comienza con <a href="#colaboraci%C3%B3n">un capítulo sobre la colaboración</a>, se ofrece una guía para continuar luego del proceso de revisión.
</p>
<p>
Recomendamos fuertemente a quienes desarrollen paquetes que lean el libro de Hadley Wickham y Jenny Bryan sobre el desarrollo de paquetes. Es conciso pero exhaustivo y está disponible <a href="https://r-pkgs.org/">gratis en línea</a>. Algunas partes de nuetra guía son redundantes con respecto a otros recursos, pero destaca las recomendaciones de rOpenSci.
</p>
<p>
Para leer por qué vale la pena enviar un paquete a rOpenSci siguiendo las recomendaciones, echa un vistazo a <a href="softwarereview_intro.es.html#whysubmit">razones para enviar un paquete</a>.
</p>
</div>
</div>
<section id="nombre-del-paquete-y-metadatos" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="nombre-del-paquete-y-metadatos">
<span class="header-section-number">1.1</span> Nombre del paquete y metadatos</h2>
<section id="cómo-elegir-el-nombre-de-tu-paquete" class="level3" data-number="1.1.1"><h3 data-number="1.1.1" class="anchored" data-anchor-id="cómo-elegir-el-nombre-de-tu-paquete">
<span class="header-section-number">1.1.1</span> Cómo elegir el nombre de tu paquete</h3>
<ul>
<li><p>Recomendamos fuertemente nombres cortos y descriptivos en minúsculas. Si tu paquete tiene que ver con uno o más servicios comerciales, asegúrate de que el nombre no infringe las recomendaciones de la marca. Puedes comprobar si el nombre de tu paquete está disponible, es informativo y no es ofensivo utilizando el <a href="https://github.com/ropenscilabs/available">paquete <code>available</code></a>. En particular, <em>no</em> elijas un nombre de paquete que ya se utilice en CRAN o en Bioconductor.</p></li>
<li><p>Un nombre de paquete menos común podría ser más fácil de encontrar (para que tú y en rOpenSci evaluemos el uso del paquete) y de buscar (para que quienes lo usen lo encuentren y busquen en Google sus preguntas). Evidentemente, un nombre <em>demasiado</em> único puede hacer que el paquete sea más difícil de encontrar (por ejemplo, podría ser un argumento para nombrar tu paquete <a href="https://github.com/ropensci/geojson">geojson</a>).</p></li>
<li><p><a href="https://www.njtierney.com/post/2018/06/20/naming-things/">Este artículo web de Nick Tierney</a> lista otro aspectos interesantes de los nombres de los paquetes de R. En caso de que cambies de opinión sobre el nombre de tu paquete, descubre <a href="https://www.njtierney.com/post/2017/10/27/change-pkg-name/">cómo cambiar el nombre de tu paquete en este otro artículo del blog de Nick</a>.</p></li>
</ul></section><section id="crear-metadatos-para-tu-paquete" class="level3" data-number="1.1.2"><h3 data-number="1.1.2" class="anchored" data-anchor-id="crear-metadatos-para-tu-paquete">
<span class="header-section-number">1.1.2</span> Crear metadatos para tu paquete</h3>
<p>Te recomendamos que utilices el <a href="https://github.com/ropensci/codemetar">paquete <code>codemetar</code></a> para crear y actualizar un JSON <a href="https://codemeta.github.io/">CodeMeta</a> para tu paquete a través de <code>codemetar::write_codemeta()</code>. Agregará automáticamente toda la información útil, incluyendo <a href="maintenance_github_grooming.es.html">temas de GitHub</a>. CodeMeta utiliza <a href="https://schema.org/">conceptos de Schema.org</a> por lo que, a medida que gane popularidad, los metadatos JSON de tu paquete podrían ser utilizados por servicios de terceros, incluso por motores de búsqueda.</p>
</section></section><section id="plataformas" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="plataformas">
<span class="header-section-number">1.2</span> Plataformas</h2>
<ul>
<li>Los paquetes deben funcionar en todas las plataformas principales (Windows, macOS, Linux). Puede haber excepciones para paquetes que interactúen con funciones específicas del sistema, o wrappers para utilidades que sólo funcionan en plataformas limitadas, pero se debe hacer todo lo posible para garantizar la compatibilidad entre plataformas, incluyendo la compilación específica en cada sistema, o la contenerización de utilidades externas.</li>
</ul></section><section id="api-del-paquete" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="api-del-paquete">
<span class="header-section-number">1.3</span> API del paquete</h2>
<section id="nombres-de-funciones-y-argumentos" class="level3" data-number="1.3.1"><h3 data-number="1.3.1" class="anchored" data-anchor-id="nombres-de-funciones-y-argumentos">
<span class="header-section-number">1.3.1</span> Nombres de funciones y argumentos</h3>
<ul>
<li>
<p>Los nombres de las funciones y los argumentos deben elegirse para que funcionen juntos y formen una API de programación común y lógica que sea fácil de leer y autocompletar.</p>
<ul>
<li>Considera un esquema de nomenclatura <code>objecto_verbo()</code> para las funciones de tu paquete que toman un tipo de datos común o interactúan con una API común. <code>objecto</code> se refiere a los datos/API y <code>verbo</code> a la acción principal. Este esquema ayuda a evitar conflictos de nombres con paquetes que pueden tener verbos similares, y hace que el código sea legible y fácil de autocompletar. Por ejemplo, en <strong>stringi</strong> las funciones que empiezan con <code>stri_</code> manipulan cadenas de texto (<code>stri_join()</code>, <code>stri_sort()</code>y en <strong>googlesheets</strong> las funciones que empiezan con <code>gs_</code> son llamadas a la API de Google Sheets (<code>gs_auth()</code>, <code>gs_user()</code>, <code>gs_download()</code>).</li>
</ul>
</li>
<li><p>Para las funciones que manipulan un objeto o dato y devuelven un objeto/dato del mismo tipo, haz que el objeto o dato sea el primer argumento de la función para mejorar la compatibilidad con el operador pipe (<code>%&gt;%</code> o <code>|&gt;</code>).</p></li>
<li><p>Recomendamos fuertemente usar <code>snake_case</code> por sobre todos los otros estilos, a menos que estés usando funciones de un paquete que ya se utilice ampliamente.</p></li>
<li><p>Evita los conflictos de nombres de funciones con los paquetes de R base u otros populares (por ejemplo <code>ggplot2</code>, <code>dplyr</code>, <code>magrittr</code>, <code>data.table</code>)</p></li>
<li><p>Los nombres y el orden de los deben ser coherentes entre las funciones que utilizan inputs similares.</p></li>
<li><p>Las funciones del paquete que importan datos no deben importar los datos al entorno global, sino que deben devolver objetos. Las asignaciones al entorno global deben evitarse en general.</p></li>
</ul></section><section id="mensajes-de-la-consola" class="level3" data-number="1.3.2"><h3 data-number="1.3.2" class="anchored" data-anchor-id="mensajes-de-la-consola">
<span class="header-section-number">1.3.2</span> Mensajes de la consola</h3>
<ul>
<li>Utiliza <code><a href="https://rdrr.io/r/base/message.html">message()</a></code> y <code><a href="https://rdrr.io/r/base/warning.html">warning()</a></code> en tus funciones para comunicarte con la persona en frente al teclado. No utilices <code><a href="https://rdrr.io/r/base/print.html">print()</a></code> o <code><a href="https://rdrr.io/r/base/cat.html">cat()</a></code> a menos que sea para un método <code>print.*()</code> o <code>str.*()</code> ya que estos métodos de impresión de mensajes son más difíciles de silenciar.</li>
</ul></section><section id="interfaces-interactivas-o-gráficas" class="level3" data-number="1.3.3"><h3 data-number="1.3.3" class="anchored" data-anchor-id="interfaces-interactivas-o-gráficas">
<span class="header-section-number">1.3.3</span> Interfaces interactivas o gráficas</h3>
<p>Si proporcionas una interfaz gráfica de usuario (GUI) (como una aplicación Shiny), para facilitar el flujo de trabajo incluye un mecanismo para reproducir automáticamente los pasos realizados en la GUI. Esto podría incluir la autogeneración de código para reproducir los mismos resultados, la generación de valores intermedios producidos en la herramienta interactiva, o simplemente un mapeo claro y bien documentado entre las acciones de la GUI y las funciones usadas. (Ver también <a href="#testing">“Tests”</a> más abajo).</p>
<p>El paquete <a href="https://github.com/ropensci/tabulizer"><code>tabulizer</code></a> por ejemplo, tiene un flujo de trabajo interactivo para extraer tablas, pero también puede extraer sólo coordenadas, por lo que se pueden volver a ejecutar los mismos pasos como un script. Otros dos ejemplos de aplicaciones shiny que generan código son <a href="https://gdancik.shinyapps.io/shinyGEO/">https://gdancik.shinyapps.io/shinyGEO/</a>y <a href="https://github.com/wallaceEcoMod/wallace/">https://github.com/wallaceEcoMod/wallace/</a>.</p>
</section></section><section id="estilo-del-código" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="estilo-del-código">
<span class="header-section-number">1.4</span> Estilo del código</h2>
<ul>
<li><p>Para más información sobre cómo dar estilo a tu código, nombrar funciones y scripts de R dentro de la carpeta <code>R</code> te recomendamos que leas el <a href="https://r-pkgs.org/Code.html">capítulo Code del libro R Packages</a>. Recomendamos el paquete <a href="https://github.com/r-lib/styler"><code>styler</code></a> para automatizar parte del estilo del código. También te sugerimos que leas la <a href="https://style.tidyverse.org/">Guía de estilo de Tidyverse</a>.</p></li>
<li><p>Puedes optar por utilizar <code>=</code> en lugar de <code>&lt;-</code> siempre que seas coherente con esa elección dentro de tu paquete. Recomendamos evitar el uso de <code>-&gt;</code> para la asignación dentro del paquete. Si utilizas <code>&lt;-</code> en todo tu paquete, y también utilizas <code>R6</code> en ese paquete, te verás obligado a utilizar <code>=</code> para la asignación dentro de la generación de la clase <code>R6Class</code> - esto no se considera una incoherencia porque no puedes usar <code>&lt;-</code> en este caso.</p></li>
</ul></section><section id="archivo-citation" class="level2" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="archivo-citation">
<span class="header-section-number">1.5</span> Archivo CITATION</h2>
<ul>
<li>Si tu paquete aún no tiene un archivo CITATION, puedes crear uno con <code><a href="https://usethis.r-lib.org/reference/use_citation.html">usethis::use_citation()</a></code>y llenarlo con los valores generados por la función <code><a href="https://rdrr.io/r/utils/citation.html">citation()</a></code>.</li>
<li>Si archivas cada versión de tu repositorio de GitHub en Zenodo, añade el <a href="https://help.zenodo.org/#versioning">DOI principal de Zenodo</a> al archivo CITATION.</li>
<li>Si un día <a href="softwarereview_author.es.html"><strong>luego de</strong> la revisión en rOpenSci</a> publicas un artículo sobre tu paquete, añádelo al archivo CITATION.</li>
<li>Menos relacionado con tu paquete en sí mismo, pero con lo que lo soporta: si tu paquete incluye un recurso concreto, como una fuente de datos o, por ejemplo, un algoritmo estadístico, recuérdale a quien lo use cómo citar ese recurso mediante, por ejemplo, <code><a href="https://rdrr.io/r/utils/citEntry.html">citHeader()</a></code>. <a href="https://discuss.ropensci.org/t/citation-of-original-article-when-implementing-specific-methods/2312">Quizás incluso añade la referencia a ese recurso</a>.</li>
</ul>
<p>Como ejemplo, revisa el <a href="https://github.com/ropensci/nasapower/blob/master/inst/CITATION">archivo CITATION de nasapower</a> que hace referencia tanto al manual como a un artículo. Lo único que le falta es un <a href="https://discuss.ropensci.org/t/should-the-ropensci-dev-guide-include-package-citation-best-practices/1551/15">DOI de Zenodo</a> para el manual, aunque la mayoría de los usuarios probablemente acabarán citando el artículo de JOSS.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citEntry.html">citHeader</a></span><span class="op">(</span><span class="st">"While nasapower does not redistribute the data in any way,\n"</span>,</span>
<span>          <span class="st">"we encourage users to follow the requests of the POWER\n"</span>,</span>
<span>          <span class="st">"Project Team:\n"</span>,</span>
<span>          <span class="st">"\n"</span>,</span>
<span>          <span class="st">"'When POWER data products are used in a publication, we\n"</span>,</span>
<span>          <span class="st">"request the following acknowledgment be included:\n"</span>,</span>
<span>          <span class="st">"These data were obtained from the NASA Langley Research\n"</span>,</span>
<span>          <span class="st">"Center POWER Project funded through the NASA Earth Science\n"</span>,</span>
<span>          <span class="st">"Directorate Applied Science Program.'\n"</span>,</span>
<span>          <span class="st">"\n"</span>,</span>
<span>          <span class="st">"To cite nasapower in publications, please use:"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/citEntry.html">citEntry</a></span><span class="op">(</span></span>
<span>  entry <span class="op">=</span> <span class="st">"Article"</span>,</span>
<span>  author <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/utils/person.html">as.person</a></span><span class="op">(</span><span class="st">"Adam H Sparks"</span><span class="op">)</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"nasapower: A NASA POWER Global Meteorology, Surface Solar Energy and Climatology Data Client for R"</span>,</span>
<span>  doi <span class="op">=</span> <span class="st">"10.21105/joss.01035"</span>,</span>
<span>  year <span class="op">=</span> <span class="fl">2018</span>,</span>
<span>  month <span class="op">=</span> <span class="st">"oct"</span>,</span>
<span>  publisher <span class="op">=</span> <span class="st">"The Open Journal"</span>,</span>
<span>  volume <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  number <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  pages <span class="op">=</span> <span class="fl">1035</span>,</span>
<span>  journal <span class="op">=</span> <span class="st">"The Journal of Open Source Software"</span>,</span>
<span>  textVersion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Sparks, Adam (2018). nasapower: A NASA POWER Global Meteorology, Surface Solar Energy and Climatology Data Client for R. Journal of Open Source Software, 3(30), 1035, https://doi.org/10.21105/joss.01035"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html">sub</a></span><span class="op">(</span><span class="st">"-.*"</span>, <span class="st">""</span>, <span class="va">meta</span><span class="op">$</span><span class="va">Date</span><span class="op">)</span></span>
<span><span class="va">note</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html">sprintf</a></span><span class="op">(</span><span class="st">"R package version %s"</span>, <span class="va">meta</span><span class="op">$</span><span class="va">Version</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/bibentry.html">bibentry</a></span><span class="op">(</span>bibtype <span class="op">=</span> <span class="st">"Manual"</span>,</span>
<span>         title <span class="op">=</span> <span class="st">"{nasapower}: NASA-POWER Data from R"</span>,</span>
<span>         author <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/person.html">person</a></span><span class="op">(</span><span class="st">"Adam"</span>, <span class="st">"Sparks"</span><span class="op">)</span><span class="op">)</span>,</span>
<span>         year <span class="op">=</span> <span class="va">year</span>,</span>
<span>         note <span class="op">=</span> <span class="va">note</span>,</span>
<span>     url <span class="op">=</span> <span class="st">"https://CRAN.R-project.org/package=nasapower"</span><span class="op">)</span></span>
<span> <span class="va">textVersion</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Adam H Sparks, ("</span>, <span class="va">year</span>, <span class="st">")."</span>,</span>
<span>  <span class="st">" nasapower: A NASA POWER Global Meteorology, Surface Solar Energy and Climatology Data Client for R. "</span>,</span>
<span>  <span class="va">note</span>, <span class="st">"."</span>,</span>
<span>  <span class="st">" https://CRAN.R-project.org/package=nasapower"</span><span class="op">)</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>También puedes crear y almacenar un archivo <code>CITATION.cff</code> gracias al paquete <a href="https://docs.ropensci.org/cffr/">cffr</a> que también proporciona un <a href="https://docs.ropensci.org/cffr/reference/cff_gha_update.html">flujo de trabajo con GitHub Actions</a> para mantener el archivo <code>CITATION.cff</code> actualizado.</li>
</ul></section><section id="readme" class="level2" data-number="1.6"><h2 data-number="1.6" class="anchored" data-anchor-id="readme">
<span class="header-section-number">1.6</span> README</h2>
<ul>
<li>
<p>Todos los paquetes deben tener un archivo <em>README</em>, llamado <code>README.md</code> en la raíz del repositorio. El <em>README</em> debe incluir, en orden:</p>
<ul>
<li>El nombre del paquete.</li>
<li>Etiquetas de integración continua y la cobertura de tests, la etiqueta de revisión por pares de rOpenSci una vez que haya comenzado (ver más abajo), una etiqueta de repostatus.org, y cualquier otra (por ejemplo <a href="https://ropensci.org/blog/2021/10/14/runiverse-badges/">R-universe</a>). Si el <em>README</em> tiene muchas etiquetas, puedes considerar el uso de una tabla de etiquetas, ver <a href="https://github.com/ropensci/ijtiff#ijtiff-">este ejemplo</a>, <a href="https://github.com/ropensci/drake">este otro</a> o <a href="https://github.com/ropensci/qualtRics/">este otro</a>. Esta tabla debe ser más ancha que alta.</li>
<li>Breve descripción de los objetivos del paquete con enlaces descriptivos a todas las viñetas (renderizadas, es decir, legibles, por ejemplo <a href="#website">el sitio web de documentación</a>) a menos que el paquete sea pequeño y sólo haya una viñeta que repita el <em>README</em>.</li>
<li>Instrucciones de instalación utilizando, por ejemplo, el paquete <a href="https://remotes.r-lib.org/">remotes</a>, <a href="https://pak.r-lib.org/">paquete pak</a> o <a href="https://ropensci.org/blog/2021/06/22/setup-runiverse/">R-universe</a>.</li>
<li>Cualquier configuración adicional que se requiera (tokens de autenticación, etc).</li>
<li>Breve demostración de uso.</li>
<li>Si aplica, cómo se compara el paquete con otros paquetes similares y/o cómo se relaciona con otros paquetes.</li>
<li>Información sobre cómo citar, es decir, muestra a las personas el formato de cita preferida en el <em>README</em> añadiendo el texto “así es como se puede citar mi paquete”. Véase, por ejemplo <a href="https://github.com/bluegreen-labs/ecmwfr#how-to-cite-this-package-in-your-article">el <em>README</em> de ecmwfr</a>.</li>
</ul>
</li>
</ul>
<p>Si utilizas otra etiqueta de estado del repo, como el <a href="https://www.tidyverse.org/lifecycle/">ciclo de vida</a> por favor, añade también una etiqueta de <a href="https://www.repostatus.org/">repostatus.org</a> . <a href="https://github.com/ropensci/ijtiff#ijtiff-">Ejemplo de un <em>README</em> de un repo con dos insignias de estado</a>.</p>
<ul>
<li>Una vez que hayas enviado el paquete y haya completado la revisión editorial, añade la insignia de revisión por pares como</li>
</ul>
<pre><code>[![](https://badges.ropensci.org/&lt;issue_id&gt;_status.svg)](https://github.com/ropensci/software-review/issues/&lt;issue_id&gt;)</code></pre>
<p>donde issue_id es el número del _issue _en el repositorio donde se hizo la revisión del software. Por ejemplo, la etiqueta de revisión de <a href="https://github.com/ropensci/rtimicropem"><code>rtimicropem</code></a> utiliza el número 126, ya que es el <a href="https://github.com/ropensci/software-review/issues/126">número de <em>issue</em> de revisión</a>. La etiqueta indicará primero “en revisión” y luego “revisado” una vez que tu paquete haya sido incorporado (<em>issue</em> etiquetado como “aprobado” y cerrado), y estará vinculado con el <em>issue</em> de la revisión.</p>
<ul>
<li>
<p>Si tu <em>README</em> tiene muchas etiquetas, considera la posibilidad de ordenarlas en una tabla HTML para que sea más fácil ver la información de un vistazo. Consulta los ejemplos en el <a href="https://github.com/ropensci/drake">repo de <code>drake</code></a> y en el <a href="https://github.com/ropensci/qualtRics/">repo de <code>qualtRics</code></a>. Las secciones posibles son:</p>
<ul>
<li>Desarrollo (estados de CI, ver el <a href="pkg_ci.es.html">capítulo CI</a>, canal de Slack para la discusión, repostatus)</li>
<li>Edición o publicación (<a href="https://www.r-pkg.org/services#badges">etiquetas de la versión de CRAN y de la fecha de publicación de METACRAN</a>, <a href="https://github.com/ropensci/cchecksapi#badges">etiqueta de la API de chequeos de CRAN</a>, etiqueta de Zenodo)</li>
<li>Estadísticas o uso (descargas, por ejemplo <a href="https://www.r-pkg.org/services#badges">etiquetas de descarga de METACRAN</a>)</li>
<li>La tabla debe ser más ancha que larga para enmascarar el resto del <em>README</em>.</li>
</ul>
</li>
<li><p>Si tu paquete se conecta a una fuente de datos o a un servicio en línea, o utiliza otro software, ten en cuenta que el <em>README</em> de tu paquete puede ser el punto de entrada para alguien que lo usa por primera vez. Debe proporcionar suficiente información para poder entender la naturaleza de los datos, el servicio o el software, y proporcionar enlaces a otros datos y documentación relevantes. Por ejemplo un <em>README</em> no debe limitarse a decir: “Proporciona acceso a GooberDB”, sino que también debe incluir “…, un repositorio online de avistamientos de Goober en Sudamérica. Se puede encontrar más información sobre GooberDB, y la documentación de la estructura de la base de datos y metadatos en <em>este enlace</em>”.</p></li>
<li><p>Recomendamos no crear el <code>README.md</code> directamente, sino a partir de un archivo <code>README.Rmd</code> (un archivo R Markdown) si incluye código de ejemplo. La ventaja del archivo <code>.Rmd</code> es que puedes combinar el texto con el código que puede actualizarse fácilmente cada vez que se actualice tu paquete.</p></li>
<li><p>Considera utilizar <code><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">usethis::use_readme_rmd()</a></code> para generar una plantilla para el archivo <code>README.Rmd</code> y para configurar automáticamente un chequeo que garantice que <code>README.md</code> sea siempre más reciente que <code>README.Rmd</code> antes de hacer un commit.</p></li>
<li><p>Los ejemplos largos deben incluirse sólo en las viñetas. Si quieres que las viñetas sean más accesibles antes de instalar el paquete, te sugerimos <a href="#website">crear un sitio web para tu paquete</a>.</p></li>
<li><p>Añade un <a href="maintenance_collaboration.es.html#friendlyfiles">código de conducta y una guía de contribución</a>.</p></li>
<li><p>Consulta el <a href="https://github.com/ropensci/gistr#gistr"><em>README</em> de <code>gistr</code></a> para ver un buen ejemplo de <em>README</em> de un paquete pequeño, y el <a href="https://github.com/ropensci/bowerbird"><em>README</em> de <code>bowerbird</code></a> para un buen ejemplo de <em>README</em> de un paquete más grande.</p></li>
</ul></section><section id="documentación" class="level2" data-number="1.7"><h2 data-number="1.7" class="anchored" data-anchor-id="documentación">
<span class="header-section-number">1.7</span> Documentación</h2>
<section id="docs-general" class="level3" data-number="1.7.1"><h3 data-number="1.7.1" class="anchored" data-anchor-id="docs-general">
<span class="header-section-number">1.7.1</span> General</h3>
<ul>
<li><p>Todas las funciones exportadas del paquete deben estar completamente documentadas con ejemplos.</p></li>
<li><p>Si existe un posible solapamiento o confusión con otros paquetes que ofrezcan una funcionalidad similar o tengan un nombre parecido, añade una nota en el <em>README</em>, en la viñeta principal y, potencialmente, en el campo descripción de archivo DESCRIPTION. Ejemplos en <a href="https://docs.ropensci.org/rtweet/">rtweet README</a>, <a href="https://docs.ropensci.org/rebird/#auk-vs-rebird">rebird README</a>, y el paquete no-rOpensci <a href="https://uscbiostats.github.io/slurmR/index.html#vs">slurmR</a>.</p></li>
<li><p>El paquete debe contener la documentación general del paquete para <code>?paquete</code> (o <code>?`paquete-package`</code> si hay un conflicto de nombres). Opcionalmente, puedes utilizar tanto <code>?paquete</code> como <code>?`paquete-package`</code> para el archivo del manual del paquete utilizando la etiqueta <code>@aliases</code> de roxygen. <code><a href="https://usethis.r-lib.org/reference/use_package_doc.html">usethis::use_package_doc()</a></code> añade la plantilla para generar la documentación general.</p></li>
<li><p>El paquete debe contener al menos una viñeta en formato <strong>HTML</strong> que cubra una parte importante de las funciones del paquete, ilustrando casos de uso realistas y cómo se supone que las funciones interactúen entre ellas. Si el paquete es pequeño, la viñeta y el <em>README</em> pueden tener un contenido muy similar.</p></li>
<li><p>Al igual que el <em>README</em>, la documentación general o las viñetas puede ser el punto de entrada para alguien que lo usa por primera vez. Si tu paquete se conecta a una fuente de datos o a un servicio en línea, o utiliza otro software, debe proporcionar suficiente información para poder entender la naturaleza de los datos, el servicio o el software, y proporcionar enlaces a otros datos y documentación relevantes. Por ejemplo, la introducción de una viñeta o la documentación no debería limitarse a decir: “Proporciona acceso a GooberDB”, sino incluir también: “…, un repositorio online de avistamientos de Goober en Sudamérica. Puedes encontrar más información sobre GooberDB y la documentación de la estructura de la base de datos y los metadatos en <em>este enlace</em>”. Cualquier viñeta debe incluir que conocimientos previos son necesarios para poder entenderla.</p></li>
</ul>
<p>La viñeta general debe presentar una serie de ejemplos que progresen en complejidad desde el uso básico al avanzado.</p>
<ul>
<li><p>La funciones de uso avanzado o que sean usadas sólo para desarrollo pueden incluirse en una viñeta separada (por ejemplo, la programación usando evaluación no estándar con dplyr).</p></li>
<li><p>El <em>README</em>, la documentación del paquete de nivel superior, las viñetas, los sitios web, etc., deben tener suficiente información al principio para obtener una visión general del paquete y de los servicios o datos a los que se conecta, y proporcionar navegación a otras partes de la documentación relevante. Esto es para seguir el principio de <em>múltiples puntos de entrada</em> es decir, tener en cuenta el hecho de que cualquier pieza de documentación puede ser el primer encuentro de la persona con el paquete y/o la herramienta o los datos que accede.</p></li>
<li><p>La(s) viñeta(s) debe(n) incluir citas a software y de artículos cuando corresponda.</p></li>
<li><p>Si tu paquete proporciona acceso a una fuente de datos, requerimos que la DESCRIPCIÓN contenga (1) Una breve identificación y/o descripción de la organización responsable de la generación de los datos; y (2) La URL que vincula con la página pública que proporciona, describe o permite el acceso a los datos (que a menudo puede diferir de la URL que conduce directamente a la fuente de datos).</p></li>
<li><p>Utiliza mensajes de inicio en el paquete sólo cuando sea necesario (cuando algunas funciones son enmascaradas, por ejemplo). Evita los mensajes de inicio del paquete tales como “Esto es paquete 2.4-0” o la guía de cómo citarlo porque pueden ser molestos para el/la usuario/a. Utiliza la documentación para dar ese tipo de información.</p></li>
<li><p>Puedes optar por tener una sección en el <em>README</em> sobre casos de uso de tu paquete (otros paquetes, artículos de blog, etc.), <a href="https://github.com/ropensci/vcr#example-packages-using-vcr">ejemplo</a>.</p></li>
</ul></section><section id="uso-de-roxygen2" class="level3" data-number="1.7.2"><h3 data-number="1.7.2" class="anchored" data-anchor-id="uso-de-roxygen2">
<span class="header-section-number">1.7.2</span> Uso de roxygen2</h3>
<ul>
<li><p>Pedimos que todos los paquetes que se presenten a revisión utilicen <code>roxygen2</code> para generar la documentación. <code>roxygen2</code> es <a href="https://cran.r-project.org/web/packages/roxygen2/index.html">un paquete de R</a> que compila automáticamente archivos <code>.Rd</code> en la carpeta <code>man</code> del paquete utilizando etiquetas incluidas antes de cada función.</p></li>
<li><p>Más información sobre el uso de <a href="https://r-pkgs.org/man.html">documentación</a> con roxygen2 está disponible en el libro <em>R Packages</em>.</p></li>
<li><p>Si escribiste los archivos .Rd a mano, el paquete <a href="https://cran.r-project.org/web/packages/Rd2roxygen/index.html">Rd2roxygen</a> contiene funciones para convertir la documentación de Rd a roxygen.</p></li>
<li><p>Una ventaja clave de utilizar <code>roxygen2</code> es que tu archivo <code>NAMESPACE</code> siempre se generará automáticamente y estará actualizado.</p></li>
<li><p>Todas las funciones deben documentar el tipo de objeto devuelto bajo el encabezamiento <code>@return</code>.</p></li>
<li><p>El valor por defecto de cada parámetro debe estar claramente documentado. Por ejemplo, en lugar de escribir <code>Un valor lógico que determina si ...</code> deberías escribir <code>Un valor lógico (por defecto `TRUE`) que determina si ...</code>. También es una buena práctica indicar los valores por defecto directamente en la definición de tu función:</p></li>
</ul>
<div class="cell">
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">a</span> <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="co"># código de la función</span></span>
<span><span class="op">}</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p>La documentación debe ayudar a la navegación incluyendo links entre funciones relacionadas y agrupando la documentación de funciones relacionadas en página de ayuda comunes. Para esto recomendamos las etiquetas <code>@seealso</code> y <code>@family</code> (esta última crea automáticamente enlaces “See also” y <a href="https://pkgdown.r-lib.org/reference/build_reference.html">pueden agrupan las funciones</a> en sitios web generados con pkgdown). Consulta <a href="https://r-pkgs.org/man.html">la sección “manual” del libro <em>R Packages</em></a> y <a href="#function-grouping">la sección “Agrupación de funciones” de este capítulo</a> para más detalles.</p></li>
<li><p>Puedes reutilizar partes de la documentación (por ejemplo, detalles sobre la autenticación, paquetes relacionados) en las viñetas, <em>README</em> y páginas de manual. Una forma de hacerlo es <a href="https://www.garrickadenbuie.com/blog/dry-vignette-and-readme/">usando fragmentos de R Markdown</a>. Usando “documentos hijos” con kintr puedes guardar fragmentos de código en la carpeta <code>man</code> y reutilizarlos en el <em>README</em>, las viñetas y la documentación (usando la etiqueta <code>@includeRmd</code>, <a href="https://roxygen2.r-lib.org/articles/rd.html#including-external--rmd-md-files">disponible desde la versión 0.7.0 de roxygen2</a>).</p></li>
<li><p>Añade <code>#' @noRd</code> a las funciones internas.</p></li>
<li>
<p>Si prefieres no abarrotar el código con una documentación muy larga, puedes colocar más ejemplos fuera del <em>script</em> de R. Coloca la documentación extra en archivos en la carpeta <code>man-roxygen</code> en la raiz de tu paquete e insértala en el archivo de ayuda con <code>@template &lt;nombre de archivo&gt;</code> debajo de la etiqueta <code>@example</code>.</p>
<ul>
<li>Coloca la documentación de cualquier objeto en un archivo <code>.R</code> en la carpeta <code>man-roxygen</code> (en la raíz de tu paquete). Por ejemplo <a href="https://github.com/ropensci/rgbif/blob/master/man-roxygen/occ_search_egs.R">este archivo</a>. Vincula ese archivo de plantilla desde el código de tu función (<a href="https://github.com/ropensci/rgbif/blob/master/R/occ_search.r">por ejemplo</a>) con la etiqueta <code>@template</code> (<a href="https://github.com/ropensci/rgbif/blob/master/R/occ_search.r#L7">por ejemplo</a>). El contenido de la plantilla se insertará cuando se construya la documentación en el archivo resultante <code>.Rd</code> que se mostrará al acceder a la documentación de la función.</li>
<li>Ten en cuenta que actualmente el formato de markdown no funciona en las plantillas, así que asegúrate de utilizar formato LaTeX.</li>
<li>En la mayoría de los casos puedes ignorar las plantillas y <code>man-roxygen</code> pero hay dos casos en los que aprovecharlos será de gran ayuda:
<ol type="1">
<li>Si tienes mucha documentación en una función, clase u objeto, separar ciertos trozos de esa documentación puede mantener tu archivo <code>.R</code> ordenado. Esto es especialmente útil cuando tienes mucho código en ese archivo <code>.R</code>. Por otro lado, significa que la documentación no será legible “en el código fuente”, ya que estará en otro archivo.</li>
<li>Cuando utilizas la misma documentación en muchas funciones y archivos <code>.R</code> es útil utilizar una plantilla. Esto reduce el texto duplicado y ayuda a evitar que por error se actualice la documentación de una función pero no la de otra. Utilizar un archivo de plantilla para la documentación de un parámetro es una alternativa a definir el parámetro para una función y utilizar <code>@inheritParams</code> para otras funciones que utilicen el mismo parámetro.</li>
</ol>
</li>
</ul>
</li>
<li><p>A partir de la versión 7.0.0 de <code>roxygen2</code>, las clases <code>R6</code> son oficialmente compatibles. Consulta la <a href="https://roxygen2.r-lib.org/articles/rd.html#r6">documentación de roxygen2</a> para saber cómo documentar las clases <code>R6</code>.</p></li>
</ul></section><section id="urls-en-la-documentación" class="level3" data-number="1.7.3"><h3 data-number="1.7.3" class="anchored" data-anchor-id="urls-en-la-documentación">
<span class="header-section-number">1.7.3</span> URLs en la documentación</h3>
<p>Esta subsección es especialmente relevante para quienes deseen enviar su paquete a CRAN. CRAN comprobará las URLs incluidas en la documentación y no permitirá páginas que redirijan a códigos 301. Puedes utilizar el paquete <a href="https://github.com/r-lib/urlchecker">urlchecker</a> para reproducir los checks de CRAN y, en particular, sustituir las URLs originales por las URLs a las que redirigen. Otra opción es mostrar algunas URLs de manera explícita sin link (cambiar <code>&lt;https://ropensci.org/&gt;</code> por <code>https://ropensci.org/</code>o <code>\url{https://ropensci.org/}</code> por <code>https://ropensci.org/</code>), pero si lo haces, tendrás que implementar algún tipo de comprobación de URL para evitar que se rompan sin que te des cuenta. Además, no se podrá hacer click en los enlaces desde la documentación local.</p>
</section></section><section id="website" class="level2" data-number="1.8"><h2 data-number="1.8" class="anchored" data-anchor-id="website">
<span class="header-section-number">1.8</span> Sitio web de la documentación</h2>
<p>Te recomendamos que crees un sitio web con la documentación de tu paquete utilizando <a href="https://github.com/r-lib/pkgdown"><code>pkgdown</code></a>. Neal Richardson escribió <a href="https://enpiar.com/2017/11/21/getting-down-with-pkgdown/">un tutorial para dar los primeros pasos con <code>pkgdown</code></a> y, cómo no es de extrañar, el paquete <code>pkgdown</code> tiene <a href="https://pkgdown.r-lib.org/">su propio sitio web de documentación</a>.</p>
<p>Hay algunos elementos que nos gustaría subrayar aquí.</p>
<section id="docsropensci" class="level3" data-number="1.8.1"><h3 data-number="1.8.1" class="anchored" data-anchor-id="docsropensci">
<span class="header-section-number">1.8.1</span> Construcción automática del sitio web de documentación</h3>
<p>Sólo tendrás que preocuparte por la construcción automática de tu sitio web cuando se apruebe y se transfiera el repositorio de tu paquete a la organización ropensci; de hecho, después de eso se construirá un sitio web con pkgdown para tu paquete luego de cada <em>push</em> al repositorio de GitHub. Puedes encontrar el estado de estas acciones en <code>https://dev.ropensci.org/job/nombre_paquete</code>, por ejemplo <a href="https://dev.ropensci.org/job/magick">para <code>magick</code></a> y el sitio web en <code>https://docs.ropensci.org/nombre_paquete</code>, por ejemplo <a href="https://docs.ropensci.org/magick">para <code>magick</code></a>. La construcción del sitio web utilizará el archivo de configuración pkgdown si tienes uno, excepto para el estilo, ya que utilizará el <a href="https://github.com/ropensci-org/rotemplate/">paquete <code>rotemplate</code></a>. El sitio web resultante tendrá una barra de búsqueda local. Por favor, informa de los errores, preguntas y pedido de nuevas características para la construcción del sitio centralizada en <a href="https://github.com/ropensci/docs/">https://github.com/ropensci/docs/</a> y sobre la plantilla en <a href="https://github.com/ropensci/rotemplate/">https://github.com/ropensci/rotemplate/</a>.</p>
<p><em>Si las viñetas de tus paquetes necesitan credenciales (claves de la API, tokens, etc.) para poder generarlas, es posible que quieras <a href="https://ropensci.org/technotes/2019/12/08/precompute-vignettes/">pregenerar las viñetas</a> ya que las credenciales no se pueden utilizar en el servidor de documentos.</em></p>
<p>Antes de la presentación y transferencia de tu paquete, puedes utilizar el <a href="https://pkgdown.r-lib.org/reference/deploy_site_github.html">enfoque documentado por <code>pkgdown</code></a> o el <a href="https://docs.ropensci.org/tic/">paquete <code>tic</code></a> para la construcción automática del sitio web del paquete. Esto te ahorrará el trabajo de ejecutar (y recordar ejecutar) <code>pkgdown::build_site()</code> cada vez que haya que actualizar el sitio. Primero consulta nuestro <a href="pkg_ci.es.html">capítulo sobre integración continua</a> si ésto no te resulta familiar. En cualquier caso, no olvides actualizar todas las apariciones de la URL del sitio web después de hacer la transferencia a la organización ropensci.</p>
</section><section id="function-grouping" class="level3" data-number="1.8.2"><h3 data-number="1.8.2" class="anchored" data-anchor-id="function-grouping">
<span class="header-section-number">1.8.2</span> Agrupar funciones en el índice</h3>
<p>Cuando tu paquete tenga muchas funciones, conviene agruparlas en el índice de la documentación, lo cual se puede hacer de forma más o menos automática.</p>
<p>Si utilizas <code>roxygen2</code> versión 6.1.1 o mayor, puedes utilizar la etiqueta <code>@family</code> en la documentación de tus funciones para indicar su grupo. Esto generará enlaces entre la documentación local de las funciones del paquete instalado (sección “See also”) <em>y</em> te permitirá utilizar la función <code>has_concept</code> de <code>pkgdown</code> en el archivo de configuración de tu sitio web. Puedes ver un ejemplo (no rOpenSci) cortesía de <a href="https://github.com/lockedata/optiRum"><code>optiRum</code></a>: <a href="https://github.com/lockedata/optiRum/blob/master/R/APR.R#L17">etiqueta family</a>, <a href="https://github.com/lockedata/optiRum/blob/master/_pkgdown.yml">archivo de configuración de <code>pkgdown</code></a> y <a href="https://itsalocke.com/optirum/reference/">la sección en el índice resultante</a>. Para personalizar el texto del título de la referencia cruzada creada por roxygen2 (<code>Other {family}:</code>), puedes consultar la documentación de <a href="https://roxygen2.r-lib.org/articles/rd.html#cross-references">roxygen2 sobre cómo proporcionar una lista <code>rd_family_title</code> en <code>man/roxygen/meta.R</code></a>.</p>
<p>Menos automáticamente, puedes ver el ejemplo de <a href="https://docs.ropensci.org/drake/">sitio web de <code>drake</code></a> y el <a href="https://github.com/ropensci/drake/blob/master/_pkgdown.yml">archivo de configuración asociado</a>.</p>
</section><section id="marca-de-autoresas" class="level3" data-number="1.8.3"><h3 data-number="1.8.3" class="anchored" data-anchor-id="marca-de-autoresas">
<span class="header-section-number">1.8.3</span> Marca de autores/as</h3>
<p>Puedes hacer que los nombres de (algunos) autores/as sean links añadiendo su URL, e incluso puedes sustituir sus nombres por un logo (por ejemplo rOpenSci… ¡o tu organización/empresa!). Ver la <a href="https://pkgdown.r-lib.org/reference/build_home.html?q=authors#yaml-config-authors">documentación de <code>pkgdown</code></a>.</p>
</section><section id="configurar-la-barra-de-navegación" class="level3" data-number="1.8.4"><h3 data-number="1.8.4" class="anchored" data-anchor-id="configurar-la-barra-de-navegación">
<span class="header-section-number">1.8.4</span> Configurar la barra de navegación</h3>
<p>Puedes hacer que el contenido de tu sitio web sea más fácil de navegar organizando la barra de navegación, consulta <a href="https://pkgdown.r-lib.org/articles/pkgdown.html#navigation-bar"><code>pkgdown</code> documentación</a>. En particular, ten en cuenta que si nombras la viñeta principal de tu paquete como “pkg-name.Rmd”, será accesible desde la barra de navegación como <code>Para empezar</code> en lugar de a través de <code>Artículos &gt; Título de la Vigñeta</code>.</p>
</section><section id="mathjax" class="level3" data-number="1.8.5"><h3 data-number="1.8.5" class="anchored" data-anchor-id="mathjax">
<span class="header-section-number">1.8.5</span> Mathjax</h3>
<p>Una vez que tu paquete sea transferido y obtenga un sitio web utilizando nuestra plantilla de <code>pkgdown</code>, si quieres utilizar Mathjax tendrás que especificarlo en el archivo de configuración de <code>pkgdown</code> de la siguiente manera</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">template</span><span class="kw">:</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">params</span><span class="kw">:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">mathjax</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section><section id="logo-del-paquete" class="level3" data-number="1.8.6"><h3 data-number="1.8.6" class="anchored" data-anchor-id="logo-del-paquete">
<span class="header-section-number">1.8.6</span> Logo del paquete</h3>
<p>Para utilizar el logo de tu paquete en la página de inicio de pkgdown, consulta <a href="https://usethis.r-lib.org/reference/use_logo.html"><code>usethis::use_logo()</code></a>. Si tu paquete no tiene ningún logotipo, el <a href="#docsropensci">generador de documentación de rOpenSci</a> utilizará el logo de rOpenSci en su lugar.</p>
</section></section><section id="authorship" class="level2" data-number="1.9"><h2 data-number="1.9" class="anchored" data-anchor-id="authorship">
<span class="header-section-number">1.9</span> Autoría</h2>
<p>El archivo <code>DESCRIPTION</code> de un paquete debe enumerar las personas que participaron de la autoría y quienes colaboraron en el paquete, utilizando la sintaxis <code>Authors@R</code> para indicar sus funciones (<em>author</em>/<em>creator</em>/<em>contributor</em>, etc.) si hay más de una persona listada. Utiliza el campo de comentarios para indicar el ID ORCID de cada persona si tuviera (ver <a href="https://ropensci.org/technotes/2018/10/08/orcid/">este post</a>). Revisa <a href="https://cran.rstudio.com/doc/manuals/r-release/R-exts.html#The-DESCRIPTION-file">esta sección de “Writing R Extensions”</a> para más detalles. Si crees que quienes revisaron tu paquete han hecho una contribución sustancial al desarrollo de tu paquete, puedes agregarlas en el campo <code>Authors@R</code> usando el tipo de contribución <code>"rev"</code>, por ejemplo:</p>
<pre><code>    person("Bea", "Hernández", role = "rev",
    comment = "Bea revisó el paquete (v. X.X.XX) para rOpenSci, ver &lt;https://github.com/ropensci/software-review/issues/116&gt;"),</code></pre>
<p>No incluyas a nadie en tu paquete sin antes pedir su consentimiento. Lee más en <a href="https://ropensci.org/blog/2018/03/16/thanking-reviewers-in-metadata/">esta entrada del blog <em>Thanking Your Reviewers: Gratitude through Semantic Metadata</em> (Agradeciendo las revisiones: La gratitud a través de los metadatos semánticos)</a>. Por favor, no agregues al equipo editorial. ¡Su participación y contribución a rOpenSci es suficiente agradecimiento!</p>
<section id="authorship-included-code" class="level3" data-number="1.9.1"><h3 data-number="1.9.1" class="anchored" data-anchor-id="authorship-included-code">
<span class="header-section-number">1.9.1</span> Autoría del código incluido en el paquete</h3>
<p>Muchos paquetes incluyen código de otro software. Tanto si se incluyen archivos enteros como funciones individuales de otros paquetes, los paquetes de rOpenSci deben seguir <a href="https://cran.r-project.org/web/packages/policies.html">la <em>Política de Repositorio</em> de CRAN</a>:</p>
<blockquote class="blockquote">
<p>La propiedad de los derechos de autor y de propiedad intelectual de todos los componentes del paquete debe ser clara e inequívoca (incluso en la especificación de autoría en el archivo DESCRIPTION). Cuando el código se copie (o se derive) del trabajo de otras personas (incluso del propio R), hay que tener cuidado de que se conserven las declaraciones de derechos de autor/licencia y no se tergiverse la autoría.</p>
<p>Preferiblemente, se utilizaría un campo “Autores@R” con funciones “ctb” para quienes tiene la autoría de dicho código. Como alternativa, el campo “Autor” puede incluir a estas personas en el rol de colaboración.</p>
<p>Cuando los derechos de autor los tenga una entidad distinta de quienes mantienen la autoría del paquete, se indicará preferentemente mediante el rol “cph” en el campo “Autores@R”, o utilizando un campo “Derechos de autor” (si es necesario, redirigiendo a un archivo inst/COPYRIGHTS).</p>
<p>Deben respetarse las marcas comerciales.</p>
</blockquote>
</section></section><section id="licencia" class="level2" data-number="1.10"><h2 data-number="1.10" class="anchored" data-anchor-id="licencia">
<span class="header-section-number">1.10</span> Licencia</h2>
<p>El paquete debe tener una licencia aceptada por <a href="https://svn.r-project.org/R/trunk/share/licenses/license.db">CRAN</a> u <a href="https://opensource.org/licenses">OSI</a>. Para más detalles sobre las licencias, consulta el libro <a href="https://r-pkgs.org/license.html">R packages</a>.</p>
</section><section id="testeo" class="level2" data-number="1.11"><h2 data-number="1.11" class="anchored" data-anchor-id="testeo">
<span class="header-section-number">1.11</span> Testeo</h2>
<ul>
<li><p>Todos los paquetes deben pasar <code>R CMD check</code>/<code>devtools::check()</code> en las principales plataformas.</p></li>
<li><p>Todos los paquetes deben tener un conjunto de <em>tests</em> que cubran la funcionalidad principal del paquete. Los <em>tests</em> deben cubrir también el comportamiento del paquete en caso de error.</p></li>
<li><p>Es una buena práctica escribir <em>tests</em> unitarios para todas las funciones, y para todo el código del paquete en general, asegurando que se cubra las funcionalidades clave. Si la cobertura de los <em>tests</em> en tu paquete está por debajo del 75% probablemente requerirá <em>tests</em> adicionales o una explicación de la baja cobertura antes de ser enviado para su revisión.</p></li>
<li><p>Recomendamos utilizar <a href="https://testthat.r-lib.org/">testthat</a> para escribir los <em>tests</em>. Intenta escribir <em>tests</em> a medida que escribes cada nueva función. Esto responde a la necesidad obvia de tener <em>tests</em> adecuados para el paquete, pero te permite pensar en varias formas en las que una función puede fallar, y <em>defensivamente</em> programar en contra esas fallas. <a href="https://r-pkgs.org/tests.html">Más información</a>.</p></li>
<li><p>Los <em>tests</em> deben ser fáciles de entender. Te sugerimos que leas el artículo de blog <a href="https://mtlynch.io/good-developers-bad-tests/"><em>Why Good Developers Write Bad Unit Tests</em> (Por qué las personas que son buenas desarrollando escriben malos tests)</a> de Michael Lynch.</p></li>
<li><p>Los paquetes con aplicaciones Shiny deberán generar <em>tests</em> unitarios usando <a href="https://rstudio.github.io/shinytest2/"><code>shinytest2</code></a> o <a href="https://rstudio.github.io/shinytest/articles/shinytest.html"><code>shinytest</code></a> para comprobar que las interfaces interactivas se comportan como se espera.</p></li>
<li><p>Para testear las funciones que crean gráficos, sugerimos utilizar <a href="https://cran.rstudio.com/web/packages/vdiffr/index.html">vdiffr</a> una extensión del paquete testthat; o <a href="https://testthat.r-lib.org/articles/snapshotting.html">pruebas instantáneas de testthat</a>.</p></li>
<li>
<p>Si tu paquete interactúa con recursos de la web (APIs de la web y otras fuentes de datos en la web) podrías encontrar el <a href="https://books.ropensci.org/http-testing/">libro <em>HTTP testing in R</em> (Testeando HTTP en R) de Scott Chamberlain y Maëlle Salmon</a> relevante. Paquetes que ayudan a realizar <em>tests</em> HTTP (clientes HTTP correspondientes):</p>
<ul>
<li>
<a href="https://enpiar.com/httptest2/">httptest2</a> (<a href="https://httr2.r-lib.org/">httr2</a>);</li>
<li>
<a href="https://enpiar.com/r/httptest/">httptest</a> (<a href="https://httr.r-lib.org/">httr</a>);</li>
<li>
<a href="https://docs.ropensci.org/vcr/">vcr</a> (<a href="https://httr.r-lib.org/">httr</a>, <a href="https://docs.ropensci.org/crul">crul</a>);</li>
<li>
<a href="https://webfakes.r-lib.org/">webfakes</a> (<a href="https://httr.r-lib.org/">httr</a>, <a href="https://httr2.r-lib.org/">httr2</a>, <a href="https://docs.ropensci.org/crul">crul</a>, <a href="https://github.com/jeroen/curl">curl</a>).</li>
</ul>
</li>
<li><p>El paquete testthat tiene una función <code>skip_on_cran()</code> que puedes utilizar para no ejecutar algunos <em>tests</em> en CRAN. Recomendamos utilizarla en todas las funciones que tengan llamadas a APIs, ya que es muy probable que fallen en CRAN. Estos <em>tests</em> deberán ejecutarse en la integración continua. Ten en cuenta que a partir de testthat 3.1.2, <code>skip_if_offline()</code> llama automáticamente a <code>skip_on_cran()</code>. Más información en <a href="https://books.ropensci.org/http-testing/cran-preparedness.html"><em>CRAN preparedness for API wrappers</em> (Preparación de CRAN para utilización de APIs)</a>.</p></li>
<li><p>Si tu paquete interactúa con una base de datos, <a href="https://docs.ropensci.org/dittodb">dittodb</a> puede resultarte útil.</p></li>
<li><p>Una vez que hayas configurado <a href="pkg_ci.es.html">la integración continua (CI)</a>, utiliza el informe de cobertura de tu paquete (revisa <a href="pkg_ci.es.html#coverage">esta sección de nuestro libro</a>) para identificar las líneas no testeadas y añadir más <em>tests</em>.</p></li>
<li><p>Aunque utilices la <a href="pkg_ci.es.html">integración continua</a> te recomendamos que ejecutes los <em>tests</em> localmente antes de enviar tu paquete ya que a menudo se omiten algunos <em>tests</em> (puede que tengas que establecer <code>Sys.setenv(NOT_CRAN="true")</code> para asegurarte de que se ejecutan todos los <em>tests</em>). Además, te recomendamos que antes de enviar tu paquete utilices el paquete de MangoTheCat <a href="https://github.com/MangoTheCat/goodpractice/"><code>goodpractice</code></a> para testear tu paquete en busca de posibles fuentes de errores, y ejecutar <code>spelling::spell_check_package()</code> para encontrar errores ortográficos en la documentación.</p></li>
</ul></section><section id="ejemplos" class="level2" data-number="1.12"><h2 data-number="1.12" class="anchored" data-anchor-id="ejemplos">
<span class="header-section-number">1.12</span> Ejemplos</h2>
<ul>
<li><p>Incluye ejemplos extensos en la documentación. Además de demostrar cómo se utiliza el paquete, pueden ser una forma fácil de testear la funcionalidad del paquete antes de que haya <em>tests</em> adecuados. Sin embargo, ten en cuenta que exigimos <em>tests</em> en los paquetes contribuidos.</p></li>
<li><p>Puedes ejecutar los ejemplos con <code>devtools::run_examples()</code>. Ten en cuenta que los ejemplos que no estén rodeados de <code>\dontrun{}</code> o <code>\donttest{}</code> serán ejecutados cuando ejecutes R CMD CHECK o su equivalente (por ejemplo, <code>devtools::check()</code>). Consulta la <a href="https://roxygen2.r-lib.org/articles/rd.html#functions">tabla de resumen</a> en la documentación de roxygen2.</p></li>
<li><p>Para evitar que los ejemplos se ejecuten en CRAN (por ejemplo, si requieren autenticación), tienes que utilizar <code>\dontrun{}</code>. Sin embargo, para un primer envío, CRAN no te permitirá que todos los ejemplos se salteen así. En este caso podrías añadir algunos pequeños ejemplos de juguete, o incluir el código de los ejemplos en <code><a href="https://rdrr.io/r/base/try.html">try()</a></code>. Consulta también la etiqueta <code>@exampleIf</code>, que al momento de escribir este artículo, se encuentra en la versión de desarrollo de roxygen2.</p></li>
<li><p>Además de ejecutar los ejemplos localmente en tu propia computadora, te aconsejamos fuertemente que ejecutes los ejemplos en uno de los <a href="pkg_ci.es.html">sistemas de integración continua</a>. De nuevo, los ejemplos que no estén incluidos en <code>\dontrun{}</code> o <code>\donttest{}</code> no se ejecutarán. Puedes configurar la integración continua para que se ejecuten a través de los argumentos R CMD <code>--run-dontrun</code> y/o <code>--run-donttest</code>.</p></li>
</ul></section><section id="pkgdependencies" class="level2" data-number="1.13"><h2 data-number="1.13" class="anchored" data-anchor-id="pkgdependencies">
<span class="header-section-number">1.13</span> Dependencias del paquete</h2>
<ul>
<li><p>Utiliza <code>Imports</code> en lugar de <code>Depends</code> para los paquetes que proporcionan funciones de otros paquetes. Asegúrate de enumerar los paquetes utilizados para los <em>tests</em> (<code>testthat</code>), y la documentación (<code>knitr</code>, <code>roxygen2</code>) en tu sección <code>Suggests</code> de dependencias de paquetes (si utilizas <code>usethis</code> para añadir la infraestructura de <em>tests</em> con <a href="https://usethis.r-lib.org/reference/use_testthat.html"><code>usethis::use_testthat()</code></a> o una viñeta mediante <a href="https://usethis.r-lib.org/reference/use_vignette.html">usethis::use_vignette()</a> los paquetes necesarios se añadirán a <code>DESCRIPTION</code>). Si utilizas algún paquete en los ejemplos o <em>tests</em> de tu paquete, asegúrate de listarlo en <code>Suggests</code> si no aparece ya en <code>Imports</code>.</p></li>
<li>
<p>Si tu paquete no está en Bioconductor pero depende de paquetes de Bioconductor, asegúrate de que las instrucciones de instalación en el <em>README</em> y la viñeta son lo suficientemente claras incluso para una persona que no esté familiarizada con el ciclo de publicación de Bioconductor.</p>
<ul>
<li><p>¿Hay que usar <a href="https://www.bioconductor.org/install/index.html#why-biocmanagerinstall"><code>BiocManager</code></a> (recomendado)? Documenta esto.</p></li>
<li><p>¿La instalación automática de paquetes de Bioconductor con <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> es suficiente? En ese caso, menciona que se debe ejecutar <code><a href="https://rdrr.io/r/utils/setRepositories.html">setRepositories()</a></code> si aún no han configurado los repositorios de Bioconductor necesarios.</p></li>
<li><p>Si tu paquete depende de Bioconductor a partir de una determinada versión, menciónalo en el archivo DESCRIPTION y en las instrucciones de instalación.</p></li>
</ul>
</li>
<li><p>Especificar las dependencias mínimas (por ejemplo <code>glue (&gt;= 1.3.0)</code> en lugar de sólo <code>glue</code>) debería ser una elección consciente. Si sabes con certeza que tu paquete se romperá con una dependencia debajo de una determinada versión, especifícalo explícitamente.</p></li>
</ul>
<p>Pero si no lo sabes, no es necesario especificar una dependencia mínima. En ese caso, si una persona informa de un fallo que está explícitamente relacionado con una versión antigua de una dependencia, entonces revísalo. Considerar las versiones de paquetes locales como la versiones mínimas necesarias para las dependencias es una mala práctica. Eso obligaría a todo el mundo a actualizar las dependencias innecesariamente (causando problemas con otros paquetes) cuando no hay una buena razón detrás de esa elección de versiones.</p>
<ul>
<li><p>En la mayoría de los casos en los que debes exponer funciones que vienen de alguna dependencia, debes importar y reexportar esas funciones individuales en lugar de enumerarlas en el campo <code>Depends</code>. Por ejemplo, si las funciones de tu paquete producen objetos <code>raster</code> podrías reexportar sólo las funciones de impresión y graficado del paquete raster.</p></li>
<li>
<p>Si tu paquete utiliza una dependencia de <em>sistema</em>, debes</p>
<ul>
<li><p>Indicarla en el archivo DESCRIPTION;</p></li>
<li><p>Comprobar que aparece en la lista de <a href="https://github.com/r-hub/sysreqsdb#sysreqs"><code>sysreqsdb</code></a> para permitir que las herramientas automáticas lo instalen, o <a href="https://github.com/r-hub/sysreqsdb#contributing">enviar una contribución</a> si no es así;</p></li>
<li><p>Comprueba que está en un script <code>configure</code> (<a href="https://github.com/ropensci/magick/blob/c116b2b8505f491db72a139b61cd543b7a2ce873/DESCRIPTION#L19">ejemplo</a>) y devuelve un mensaje de error útil si no se encuentra (<a href="https://github.com/cran/webp/blob/master/configure">ejemplo</a>). Los scripts <code>configure</code> pueden ser un reto, ya que a menudo requieren soluciones rebuscadas. para hacer que diversas dependencias del sistema funcionen en todos los sistemas. Utiliza ejemplos como punto de partida (<a href="https://github.com/search?q=org%3Acran+anticonf&amp;type=Code">más aquí</a>), pero ten en cuenta que es habitual encontrar errores y casos límite y que a menudo violan las políticas de CRAN. No dudes en <a href="https://discuss.ropensci.org/">pedir ayuda en nuestro foro</a>.</p></li>
</ul>
</li>
<li>
<p>Ten en cuenta las ventajas y desventajas de tener dependencias con un paquete. Por un lado, el uso de dependencias reduce el esfuerzo de desarrollo, y permite construir sobre funcionalidades útiles desarrollada por otras personas, especialmente si la dependencia realiza tareas complejas, es de alto rendimiento y/o está bien revisada y probada. Por otro lado, tener muchas dependencias supone una carga de mantenimiento ya que requiere estar al día con los cambios en esos paquetes, con riesgo para la sostenibilidad de tu paquete a largo plazo. También aumenta el tiempo y el tamaño de la instalación, lo que supone principalmente una consideración en el ciclo de desarrollo tuyo y del resto, y en los sistemas de compilación automatizados. Los paquetes “pesados” -los que tienen muchas dependencias, y los que tienen grandes cantidades de código compilado- aumentan este costo. He aquí algunos enfoques para reducir las dependencias:</p>
<ul>
<li>
<p>Las funciones pequeñas y sencillas de una dependencia pueden copiarse en tu propio paquete si sólo utilizas unas pocas funciones de esa dependencia grande o pesada. (Ver la sección <a href="#authorship-included-code"><em>Autoría</em></a> para saber cómo reconocer la autoría del código copiado). Por otro lado, las funciones complejas con muchos casos especiales (por ejemplo, los analizadores sintácticos) requieren considerable testeo y revisión.</p>
<ul>
<li>
<p>Un ejemplo común de esto es devolver “tibbles” usadas por el tidyverse en las funciones del paquete que proporcionan datos. Se puede evitar el uso del paquete <strong>tibble</strong> devolviendo un tibble creado modificando un data.frame de la siguiente manera</p>
<pre><code>class(df) &lt;- c("tbl_df", "tbl", "data.frame") </code></pre>
<p>(Ten en cuenta que este enfoque <a href="https://twitter.com/krlmlr/status/1067856118385381377">no está universalmente aceptado</a>.)</p>
</li>
</ul>
</li>
<li><p>Asegúrate de que utilizas la función del paquete donde está definida originalmente y no de un paquete que la re-exporta. Por ejemplo, muchas funciones de <strong>devtools</strong> pueden encontrarse en paquetes especializados más pequeños, como <strong>sessioninfo</strong>. La función <code>%&gt;%</code> debe importarse de <strong>magrittr</strong> donde está definida, en lugar de <strong>dplyr</strong> que la reexporta y es mucho más pesado.</p></li>
<li><p>Algunas dependencias proporcionan nombres de funciones y sintaxis más fáciles de interpretar que los nombres de las funciones y la sintaxis de R base. Si ésta es la razón principal para usar una función en una dependencia pesada, considera incluir el código de R base en una función interna bien nombrada en tu paquete. Consulta, por ejemplo, el <a href="https://github.com/r-lib/rlang/blob/master/R/compat-purrr.R">script de R de rlang que proporciona funciones con una sintaxis similar a las funciones de purrr</a>.</p></li>
<li><p>Si las dependencias tienen funcionalidades que se solapan, comprueba si puedes depender sólo de una.</p></li>
<li><p>Puedes encontrar más consejos sobre la gestión de dependencias <a href="https://recology.info/2018/10/limiting-dependencies/">en este artículo de Scott Chamberlain</a>.</p></li>
</ul>
</li>
</ul></section><section id="estructura-de-base-recomendada" class="level2" data-number="1.14"><h2 data-number="1.14" class="anchored" data-anchor-id="estructura-de-base-recomendada">
<span class="header-section-number">1.14</span> Estructura de base recomendada</h2>
<ul>
<li><p>Para las consultas HTTP recomendamos utilizar <a href="https://github.com/jeroen/curl/">curl</a>, <a href="https://github.com/ropensci/crul/">crul</a>, <a href="https://httr.r-lib.org">httr</a> o <a href="https://httr2.r-lib.org">httr2</a> en vez de <a href="https://cran.rstudio.com/web/packages/RCurl/">RCurl</a>. El paquete <a href="https://github.com/jeroen/curl/">curl</a> es mejor es mejor si prefieres los clientes de bajo nivel de HTTP, mientras que <a href="https://github.com/ropensci/crul/">crul</a> o <a href="https://httr.r-lib.org">httr</a> son mejores para un control de mayor nivel. El paquete <a href="https://github.com/ropensci/crul/">crul</a> es mantenido por rOpenSci. Recomendamos los paquetes mantenidos por rOpenSci <a href="https://github.com/ropensci/webmockr/">webmockr</a> para imitar las consultas HTTP, y <a href="https://github.com/ropensci/vcr/">vcr</a> para almacenar en caché las consultas HTTP en los tests del paquete.</p></li>
<li><p>Para parsear JSON, utiliza <a href="https://github.com/jeroen/jsonlite">jsonlite</a> en lugar de <a href="https://github.com/alexcb/rjson">rjson</a> o <a href="https://cran.rstudio.com/web/packages/RJSONIO/">RJSONIO</a>.</p></li>
<li><p>Para parsear, crear y manipular XML, recomendamos fuertemente <a href="https://cran.rstudio.com/web/packages/xml2/">xml2</a> en la mayoría de los casos. <a href="https://gist.github.com/nuest/3ed3b0057713eb4f4d75d11bb62f2d66">Puedes consultar las notas de Daniel Nüst sobre la migración de XML a xml2</a>.</p></li>
<li><p>Para datos espaciales, el paquete <a href="https://github.com/edzer/sp/">sp</a> debe considerarse obsoleto en favor de <a href="https://r-spatial.github.io/sf/">sf</a>. Los paquetes <a href="https://cran.r-project.org/web/packages/rgdal/index.html">rgdal</a>, <a href="https://cran.r-project.org/web/packages/maptools/index.html">maptools</a> y <a href="https://cran.r-project.org/web/packages/rgeos/index.html">rgeos</a> se retirarán a finales de 2023. Recomendamos el uso de las suites espaciales desarrolladas por las comunidades <a href="https://github.com/r-spatial">r-spatial</a> y <a href="https://github.com/rspatial">rspatial</a>. Consulta <a href="https://github.com/ropensci/software-review-meta/issues/47">este issue de GitHub</a> para ver las discusiones pertinentes.</p></li>
</ul></section><section id="control-de-versiones" class="level2" data-number="1.15"><h2 data-number="1.15" class="anchored" data-anchor-id="control-de-versiones">
<span class="header-section-number">1.15</span> Control de versiones</h2>
<ul>
<li><p>Los archivos fuente de tu paquete tienen que estar bajo control de versiones, más concretamente versionados con <a href="https://happygitwithr.com/">Git</a>. Puede que el paquete <a href="https://docs.ropensci.org/gert/">gert</a> te resulte útil, así como algunas de las <a href="https://usethis.r-lib.org/reference/index.html#section-git-and-github">funciones de usethis relacionadas con Git/GitHub</a>; sin embargo, puedes utilizar git como quieras.</p></li>
<li><p>Asegúrate de listar archivos innecesarios, como <code>.DS_Store</code>, en .gitignore. Puede el paquete <a href="https://docs.ropensci.org/gitignore/">gitignore</a> es útil para esto.</p></li>
<li><p>Una sección posterior de este libro incluye algunos <a href="maintenance_collaboration.es.html#gitflow">consejos sobre el flujo de trabajo con git</a>.</p></li>
</ul></section><section id="crangotchas" class="level2" data-number="1.16"><h2 data-number="1.16" class="anchored" data-anchor-id="crangotchas">
<span class="header-section-number">1.16</span> Problemas comunes en CRAN</h2>
<p>Esta es una colección de problemas en CRAN que vale la pena evitar desde el principio.</p>
<ul>
<li>Asegúrate de que las palabras del título de tu paquete comiencen con mayúsculas (<a href="https://apastyle.apa.org/style-grammar-guidelines/capitalization/title-case"><em>Title Case</em></a>).</li>
<li>No pongas un punto al final de tu título.</li>
<li>No pongas “en R” o “con R” en tu título, ya que esto es obvio en los paquetes alojados en CRAN. Si a pesar de todo quieres que esta información aparezca en tu sitio web, revisa la <a href="https://pkgdown.r-lib.org/reference/build_home.html#yaml-config-home">documentación de <code>pkgdown</code></a> para saber cómo anular esta restricción.</li>
<li>Evita empezar la descripción con el nombre del paquete o “Este paquete…”.</li>
<li>Asegúrate de incluir enlaces a sitios web si utilizas una API, obtienes datos de una página web, etc… en el campo <code>Description</code> de tu archivo <code>DESCRIPTION</code>. Las URL deben ir entre simbolos <code>&lt;&gt;</code>, por ejemplo <code>&lt;https://www.r-project.org&gt;</code>.</li>
<li>Tanto en el campo <code>Title</code> como en <code>Description</code> los nombres de los paquetes u otro software externo deben ir entre comillas simples (por ejemplo <em>Integración de ‘Rcpp’ para la Biblioteca de Álgebra Lineal Armadillo</em>).</li>
<li>Evita tests y ejemplos que tarden en correr. Considera usar <code>testthat::skip_on_cran()</code> en los test que toman mucho tiempo para que se omitan en CRAN pero sigan corriendo localmente y en la <a href="pkg_ci.es.html">integración continua</a>.</li>
<li>Incluye archivos de alto nivel como <code>paper.md</code> y archivos de configuración de integración continua en tu archivo <code>.Rbuildignore</code>.</li>
</ul>
<section id="cranchecks" class="level3" data-number="1.16.1"><h3 data-number="1.16.1" class="anchored" data-anchor-id="cranchecks">
<span class="header-section-number">1.16.1</span> Comprobaciones en CRAN</h3>
<p>Una vez que tu paquete esté en CRAN, será <a href="https://blog.r-hub.io/2019/04/25/r-devel-linux-x86-64-debian-clang/#cran-checks-101">comprobado regularmente en diferentes plataformas</a>. Los fallos de estas comprobaciones, cuando no son falsos positivos, pueden hacer que el equipo de CRAN se ponga en contacto contigo. Puedes revisar el estado de las comprobaciones de CRAN con:</p>
<ul>
<li><p>el paquete <a href="https://fmichonneau.github.io/foghorn/"><code>foghorn</code></a>.</p></li>
<li><p>la <a href="https://github.com/ropenscilabs/cchecksapi">API de comprobaciones de CRAN</a> mantenida por rOpenSci, que proporciona <a href="https://github.com/ropenscilabs/cchecksapi#badges">etiquetas de estado</a>.</p></li>
</ul></section></section><section id="guía-para-bioconductor" class="level2" data-number="1.17"><h2 data-number="1.17" class="anchored" data-anchor-id="guía-para-bioconductor">
<span class="header-section-number">1.17</span> Guía para Bioconductor</h2>
<p>Si deseas que tu paquete se envíe a Bioconductor, o si tu paquete está en Bioconductor, consulta las <a href="https://www.bioconductor.org/developers/package-guidelines/">Directrices de paquetes de Bioconductor</a>.</p>
</section><section id="otras-recomendaciones" class="level2" data-number="1.18"><h2 data-number="1.18" class="anchored" data-anchor-id="otras-recomendaciones">
<span class="header-section-number">1.18</span> Otras recomendaciones</h2>
<ul>
<li><p>Si envías un paquete a rOpenSci a través del <a href="https://github.com/ropensci/software-review">repo de software-review</a> puedes dirigir tus preguntas al equipo de rOpenSci a través de issues o en nuestro <a href="https://discuss.ropensci.org/">foro de discusión</a>.</p></li>
<li><p>Antes de enviar un paquete, utiliza estas <a href="https://github.com/MangoTheCat/goodpractice"><strong>buenas prácticas</strong></a> (<code>goodpractice::gp()</code>) como guía para mejorar tu paquete, ya que la mayoría de las excepciones a estas tendrán que justificarse. Por ejemplo, usar <code>foo</code> no se recomendado generalmente y, por tanto, marcado como erróneo por <code>goodpractice</code>, pero podrías tener una buena razón para utilizarlo en tu paquete.</p></li>
<li><p>Lee, incorpora y actúa según los consejos del capítulo <a href="maintenance_collaboration.es.html"><em>Guía de Colaboración</em></a>.</p></li>
</ul>
<section id="aprender-sobre-el-desarrollo-de-paquetes" class="level3" data-number="1.18.1"><h3 data-number="1.18.1" class="anchored" data-anchor-id="aprender-sobre-el-desarrollo-de-paquetes">
<span class="header-section-number">1.18.1</span> Aprender sobre el desarrollo de paquetes</h3>
<section id="libros" class="level4" data-number="1.18.1.1"><h4 data-number="1.18.1.1" class="anchored" data-anchor-id="libros">
<span class="header-section-number">1.18.1.1</span> Libros</h4>
<ul>
<li><p><a href="https://r-pkgs.org/"><em>R Packages</em> (Paquetes de R) de Hadley Wickham y Jenny Bryan</a> es un recurso excelente y fácil de leer sobre el desarrollo de paquetes que está disponible <a href="https://r-pkgs.org/">gratis en línea</a> (e <a href="https://www.amazon.com/Packages-Organize-Test-Document-Share/dp/1491910593">impreso - link a la versión anterior de Hadley Wickham, ya que, hasta junio de 2022, la nueva versión aún no se ha publicado</a>).</p></li>
<li><p><a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html"><em>Writing R Extensions</em> (Escribiendo extensiones de R)</a> es la referencia canónica, normalmente la más actualizada, para crear paquetes de R.</p></li>
<li><p><a href="https://bookdown.org/rdpeng/RProgDA/"><em>Mastering Software Development in R</em> (Dominar el desarrollo de software en R) por Roger D. Peng, Sean Kross y Brooke Anderson</a>.</p></li>
<li><p><a href="https://adv-r.hadley.nz/"><em>Advanced R</em> (R avanzado) de Hadley Wickham</a></p></li>
</ul></section><section id="tutoriales" class="level4" data-number="1.18.1.2"><h4 data-number="1.18.1.2" class="anchored" data-anchor-id="tutoriales">
<span class="header-section-number">1.18.1.2</span> Tutoriales</h4>
<ul>
<li><p><a href="https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/">El famoso artículo de Hilary Parker <em>Writing an R package from scratch</em> (Escribiendo tu propio paquete de R desde cero)</a> o <a href="https://r-mageddon.netlify.com/post/writing-an-r-package-from-scratch/">su versión actualizada por Tomas Westlake</a> que muestra cómo hacer lo mismo de forma más eficiente utilizando <code>usethis</code>.</p></li>
<li><p><a href="https://www.emilhvitfeldt.com/post/2018-09-02-usethis-workflow-for-package-development/">esta descripción del flujo de trabajo por Emil Hvitfeldt</a>.</p></li>
<li><p><a href="https://www.mjdenny.com/R_Package_Pictorial.html">Esta ilustración de Matthew J Denny</a>.</p></li>
</ul></section><section id="blogs" class="level4" data-number="1.18.1.3"><h4 data-number="1.18.1.3" class="anchored" data-anchor-id="blogs">
<span class="header-section-number">1.18.1.3</span> Blogs</h4>
<ul>
<li><p><a href="https://blog.r-hub.io/post">Blog de R-hub</a>.</p></li>
<li><p>Algunos posts del <a href="https://ropensci.org/archive/">blog de rOpenSci</a> por ejemplo <a href="https://ropensci.org/blog/2019/12/08/precompute-vignettes/"><em>“How to precompute package vignettes or pkgdown articles”</em> (Cómo pregenerar viñetas de paquetes o artículos de pkgdown)</a>.</p></li>
<li><p>Sección <em>El rincón del desarrollo de paquetes</em> del <a href="https://ropensci.org/news/">boletín de rOpenSci</a>.</p></li>
<li><p>Algunos posts del <a href="https://www.tidyverse.org">blog de tidyverse</a> por ejemplo <a href="https://www.tidyverse.org/blog/2022/02/upkeep-testthat-3/"><em>“Upgrading to testthat edition 3”</em> (Actualizando a la 3ra edición de testthat)</a>.</p></li>
</ul></section><section id="moocs" class="level4" data-number="1.18.1.4"><h4 data-number="1.18.1.4" class="anchored" data-anchor-id="moocs">
<span class="header-section-number">1.18.1.4</span> MOOCs</h4>
<p>Existe una <a href="https://fr.coursera.org/specializations/r">especialización en Coursera correspondiente al libro de Roger Peng, Sean Kross y Brooke Anderson</a> con un curso específico sobre paquetes de R.</p>


</section></section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./preface.es.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Prefacio</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./pkg_ci.es.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>  <span class="chapter-title">Buenas prácticas de integración continua</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body>
</html>
