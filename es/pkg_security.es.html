<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="description" content="Extended version of the rOpenSci packaging guide. This book is a guide for authors, maintainers, reviewers and editors of rOpenSci. The first section of the book contains our guidelines for creating and testing R packages. The second section is dedicated to rOpenSci’s software peer review process: what it is, our policies, and specific guides for authors, editors and reviewers throughout the process. The third and last section features our best practice for nurturing your package once it has been onboarded: how to collaborate with other developers, how to document releases, how to promote your package and how to leverage GitHub as a development platform. The third section also features a chapter for anyone wishing to start contributing to rOpenSci packages.">
<title>rOpenSci Packages: Development, Maintenance, and Peer Review - 3  Buenas prácticas de seguridad en el desarrollo de paquetes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>
<script src="site_libs/quarto-nav/quarto-nav.js"></script><script src="site_libs/quarto-nav/headroom.min.js"></script><script src="site_libs/clipboard/clipboard.min.js"></script><script src="site_libs/quarto-search/autocomplete.umd.js"></script><script src="site_libs/quarto-search/fuse.min.js"></script><script src="site_libs/quarto-search/quarto-search.js"></script><meta name="quarto:offset" content="./">
<link href="./softwarereview_intro.es.html" rel="next">
<link href="./pkg_ci.es.html" rel="prev">
<link href="./images/apple-touch-icon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script><script src="site_libs/quarto-html/popper.min.js"></script><script src="site_libs/quarto-html/tippy.umd.min.js"></script><script src="site_libs/quarto-html/anchor.min.js"></script><link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script><link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar"
  }
}</script><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript></noscript>
</head>
<body class="nav-sidebar floating">
<p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p>
<!-- End Matomo Code -->



<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">3</span>  <span class="chapter-title">Buenas prácticas de seguridad en el desarrollo de paquetes</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">rOpenSci Packages: Development, Maintenance, and Peer Review</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ropensci/dev_guide/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.es.html" class="sidebar-item-text sidebar-link">rOpenSci Dev Guide</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.es.html" class="sidebar-item-text sidebar-link">Prefacio</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Building Your Package</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_building.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>  <span class="chapter-title">Guía de empaquetado</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_ci.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>  <span class="chapter-title">Buenas prácticas de integración continua</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_security.es.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>  <span class="chapter-title">Buenas prácticas de seguridad en el desarrollo de paquetes</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Software Peer Review of Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_intro.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>  <span class="chapter-title">Revisión por pares del software, ¿por qué? ¿qué?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_policies.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>  <span class="chapter-title">Políticas de la Revisión por Pares de Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_author.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>  <span class="chapter-title">Guía para quienes crean paquetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_reviewer.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>  <span class="chapter-title">Guía para quienes hacen una revisión</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>  <span class="chapter-title">Guide for Editors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor_management.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>  <span class="chapter-title">Gestión editorial</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Maintaining Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_collaboration.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>  <span class="chapter-title">Guía de colaboración</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_changing_maintainers.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>  <span class="chapter-title">Cambio de mantenedores de paquetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_releases.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>  <span class="chapter-title">Releasing a package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_marketing.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>  <span class="chapter-title">Marketing your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_github_grooming.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>  <span class="chapter-title">GitHub Grooming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_evolution.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>  <span class="chapter-title">Package evolution - changing stuff in your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_curation.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>  <span class="chapter-title">Política de gestión de paquetes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_contributing.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>  <span class="chapter-title">Guía de Contribución</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendix</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./booknews.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>  <span class="chapter-title">NEWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewtemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>  <span class="chapter-title">Review template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./editortemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>  <span class="chapter-title">Editor’s template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewrequesttemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>  <span class="chapter-title">Review request template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./approval2template.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>  <span class="chapter-title">Reviewer approval comment template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./newstemplate.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>  <span class="chapter-title">NEWS template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bookreleaseissue.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>  <span class="chapter-title">Book release guidance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./redirect.es.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>  <span class="chapter-title">How to set a redirect</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Tabla de contenidos</h2>
   
  <ul>
<li><a href="#miscelaneos" id="toc-miscelaneos" class="nav-link active" data-scroll-target="#miscelaneos"><span class="toc-section-number">3.1</span>  Miscelaneos</a></li>
  <li><a href="#seguridad-al-acceder-a-github" id="toc-seguridad-al-acceder-a-github" class="nav-link" data-scroll-target="#seguridad-al-acceder-a-github"><span class="toc-section-number">3.2</span>  Seguridad al acceder a GitHub</a></li>
  <li><a href="#https" id="toc-https" class="nav-link" data-scroll-target="#https"><span class="toc-section-number">3.3</span>  https</a></li>
  <li>
<a href="#pkgsecrets" id="toc-pkgsecrets" class="nav-link" data-scroll-target="#pkgsecrets"><span class="toc-section-number">3.4</span>  Credenciales dentro de paquetes</a>
  <ul class="collapse">
<li><a href="#credenciales-dentro-de-paquetes-y-la-protecci%C3%B3n-de-usuariosas" id="toc-credenciales-dentro-de-paquetes-y-la-protección-de-usuariosas" class="nav-link" data-scroll-target="#credenciales-dentro-de-paquetes-y-la-protecci%C3%B3n-de-usuariosas"><span class="toc-section-number">3.4.1</span>  Credenciales dentro de paquetes y la protección de usuarios/as</a></li>
  <li><a href="#credenciales-en-paquetes-y-desarrollo" id="toc-credenciales-en-paquetes-y-desarrollo" class="nav-link" data-scroll-target="#credenciales-en-paquetes-y-desarrollo"><span class="toc-section-number">3.4.2</span>  Credenciales en paquetes y desarrollo</a></li>
  <li><a href="#credenciales-y-cran" id="toc-credenciales-y-cran" class="nav-link" data-scroll-target="#credenciales-y-cran"><span class="toc-section-number">3.4.3</span>  Credenciales y CRAN</a></li>
  </ul>
</li>
  <li><a href="#furthersecreading" id="toc-furthersecreading" class="nav-link" data-scroll-target="#furthersecreading"><span class="toc-section-number">3.5</span>  Lecturas adicionales</a></li>
  </ul>
<div class="toc-actions">
<div><i class="bi bi-github"></i></div>
<div class="action-links">
<p><a href="https://github.com/ropensci/dev_guide/edit/main/pkg_security.es.Rmd" class="toc-action">Editar esta página</a></p>
<p><a href="https://github.com/ropensci/dev_guide/issues/new" class="toc-action">Informar de un problema</a></p>
<p><a class="toc-action" href="/pkg_security.html">Version in English</a></p>
</div>
</div></nav>
</div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">
<span class="chapter-number">3</span>  <span class="chapter-title">Buenas prácticas de seguridad en el desarrollo de paquetes</span>
</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><div class="cell" type="summaryblock">
<div class="summaryblock">
<p>
Este es un capítulo en proceso que incluye <a href="#pkgsecrets">consejos sobre la gestión de información confidencial en los paquetes</a> y <a href="#furthersecreading">enlaces a lecturas adicionales</a>.
</p>
</div>
</div>
<section id="miscelaneos" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="miscelaneos">
<span class="header-section-number">3.1</span> Miscelaneos</h2>
<p>Recomendamos el artículo <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008563">Diez consejos rápidos sobre seguridad en Internet</a> de Danielle Smalls y Greg Wilson.</p>
</section><section id="seguridad-al-acceder-a-github" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="seguridad-al-acceder-a-github">
<span class="header-section-number">3.2</span> Seguridad al acceder a GitHub</h2>
<ul>
<li><p>Te recomendamos <a href="https://docs.github.com/es/authentication/securing-your-account-with-two-factor-authentication-2fa">proteger tu cuenta de GitHub con autenticación de dos factores (2FA)</a>. Esto es <em>obligatorio</em> para miembros de la organización ropensci en GitHub y quienes colaboren de manera externa, así que asegúrate de habilitarla antes de que se apruebe tu paquete.</p></li>
<li><p>También te recomendamos que compruebes regularmente quién tiene acceso al repositorio de tu paquete, y que elimines cualquier acceso no utilizado (como el de antiguos/as colaboradores/as).</p></li>
</ul></section><section id="https" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="https">
<span class="header-section-number">3.3</span> https</h2>
<ul>
<li>Si el servicio web al que se conecta tu paquete tiene opciones de https y http, usa https.</li>
</ul></section><section id="pkgsecrets" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="pkgsecrets">
<span class="header-section-number">3.4</span> Credenciales dentro de paquetes</h2>
<p>Esta sección incluye consejos para cuando desarrolles un paquete que interactúa con un recurso web que requiere credenciales (claves API, tokens, etc.). Consulta también <a href="https://httr.r-lib.org/articles/secrets.html">la viñeta de <code>httr</code> sobre compartir credenciales</a>.</p>
<section id="credenciales-dentro-de-paquetes-y-la-protección-de-usuariosas" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="credenciales-dentro-de-paquetes-y-la-protección-de-usuariosas">
<span class="header-section-number">3.4.1</span> Credenciales dentro de paquetes y la protección de usuarios/as</h3>
<p>Supongamos que tu paquete necesita una clave para hacer consultas a una API en nombre de quien usa el paquete.</p>
<ul>
<li><p>En la documentación de tu paquete, orienta a la persona para que la clave de la API no se almacene en su archivo .Rhistory o en su script.</p></li>
<li><p>Fomenta el uso de variables de entorno para almacenar la clave de la API (o incluso elimina la posibilidad de pasarla como argumento a las funciones). Puedes mencionar <a href="https://rstats.wtf/r-startup.html">esta introducción a los archivos de arranque</a> y la función <a href="https://usethis.r-lib.org/reference/edit.html"><code>usethis::edit_r_environ()</code></a>.</p></li>
<li><p>Otra posibilidad es usar o fomentar el uso del paquete <a href="https://github.com/r-lib/keyring#readme"><code>keyring</code> para almacenar variables</a> en los sistemas de almacenamiento de credenciales del sistema operativo (que son más seguros que guardarlas en el archivo .Renviron). Para esto tu paquete tendría una función para guardar la clave en el keyring y una para recuperarla; alternativamente quien use tu paquete podría escribir <code>Sys.setenv(CLAVESUPERSECRETA = keyring::key_get("miservicio"))</code> al principio de su script.</p></li>
<li><p>No imprimas la clave de la API en ningún mensaje, advertencia o error, ni siquiera en modo verboso.</p></li>
<li><p>La plantilla de issues en GitHub debe indicar no compartir ninguna credencial. Si alguien comparte accidentalmente las credenciales en un issue, asegúrate de avisarle para que revoque la clave (es decir, pregúntale explícitamente si se ha dado cuenta de que ha compartido su clave).</p></li>
</ul></section><section id="credenciales-en-paquetes-y-desarrollo" class="level3" data-number="3.4.2"><h3 data-number="3.4.2" class="anchored" data-anchor-id="credenciales-en-paquetes-y-desarrollo">
<span class="header-section-number">3.4.2</span> Credenciales en paquetes y desarrollo</h3>
<p>Durante el desarrollo del paquete tendrás que proteger tus credenciales igual que proteges las credenciales de quienes usan tu paquete, pero hay más cosas a considerar y tener en cuenta.</p>
<section id="credenciales-y-consultas-guardadas-en-los-tests" class="level4" data-number="3.4.2.1"><h4 data-number="3.4.2.1" class="anchored" data-anchor-id="credenciales-y-consultas-guardadas-en-los-tests">
<span class="header-section-number">3.4.2.1</span> Credenciales y consultas guardadas en los tests</h4>
<p>Si utilizas <a href="https://docs.ropensci.org/vcr/"><code>vcr</code></a> o <a href="https://enpiar.com/r/httptest/"><code>httptest</code></a> en los test para almacenar las respuestas de la API en caché, tienes que asegurarte de que las consultas grabadas o fixtures no contengan credenciales. Consulta la <a href="https://books.ropensci.org/http-testing/security-chapter.html">guía de seguridad de <code>vcr</code></a> y <a href="https://enpiar.com/r/httptest/articles/redacting.html">la guía “Redacting and Modifying Recorded Requests” de <code>httptest</code></a> e inspecciona tus consultas grabadas y fixtures antes de hacer un primer commit para asegurarte de que tienes la configuración correcta.</p>
<p>Como <code>vcr</code> es un paquete de rOpenSci, puedes publicar cualquier pregunta que tengas en el <a href="https://discuss.ropensci.org/">foro de rOpenSci</a>.</p>
</section><section id="compartir-credenciales-con-servicios-de-integración-contínua" class="level4" data-number="3.4.2.2"><h4 data-number="3.4.2.2" class="anchored" data-anchor-id="compartir-credenciales-con-servicios-de-integración-contínua">
<span class="header-section-number">3.4.2.2</span> Compartir credenciales con servicios de integración contínua</h4>
<p>Si utilizas un <a href="pkg_ci.es.html">servicio de integración continua</a> (CI por sus siglas en inglés), es posible que necesites compartir credenciales con el mismo.</p>
<p>Puedes almacenar las claves de la API como variables de entorno/credenciales consultando la documentación del servicio de CI.</p>
<p>Para más detalles y consejos sobre el flujo de trabajo, consulta <a href="https://gargle.r-lib.org/articles/articles/managing-tokens-securely.html">al artículo de gargle “Managing tokens securely”</a> y el <a href="https://books.ropensci.org/http-testing/security-chapter.html">capítulo de seguridad del libro HTTP testing in R</a>.</p>
<p>Documenta los pasos que has seguido en <a href="maintenance_collaboration.es.html#friendlyfiles">CONTRIBUCIÓN.md</a> para que tú, o alguien en el futuro, pueda recordar cómo hacerlo la próxima vez.</p>
</section><section id="credenciales-y-colaboraciones" class="level4" data-number="3.4.2.3"><h4 data-number="3.4.2.3" class="anchored" data-anchor-id="credenciales-y-colaboraciones">
<span class="header-section-number">3.4.2.3</span> Credenciales y colaboraciones</h4>
<p>¿Qué pasa con los pull requests de colaboradoras/es externas/os? En GitHub, por ejemplo, los “secrets” sólo están disponibles para las acciones de GitHub para los pull requests iniciados desde el propio repositorio, no desde el fork. Los test que utilicen tus credenciales fallarán a menos que utilices algún tipo de respuesta simulada/en caché, por lo que es posible que quieras omitirlos dependiendo del contexto. Por ejemplo, en tu cuenta CI podrías crear una variable de entorno llamada <code>ESTE_SOY_YO</code> y luego omitir los test en función de la presencia de esta variable. Obviamente, esto significa que los tests del PR por parte del CI no serán exhaustivos, por lo que tendrás que comprobar el PR localmente para ejecutar todos los tests.</p>
<p>Documenta el comportamiento de tu paquete frente a PRs externos en <a href="maintenance_collaboration.es.html#friendlyfiles">CONTRIBUCIÓN.md</a> por el bien de la gente que hace PRs y de la gente que los revisa (tú dentro de unas semanas, y otras/os autoras/es del paquete).</p>
</section></section><section id="credenciales-y-cran" class="level3" data-number="3.4.3"><h3 data-number="3.4.3" class="anchored" data-anchor-id="credenciales-y-cran">
<span class="header-section-number">3.4.3</span> Credenciales y CRAN</h3>
<p>En CRAN, omite las pruebas y los ejemplos que requieran credenciales utilizando <code>skip_on_cran()</code> y <code>dontrun</code> respectivamente.</p>
<p>También <a href="https://ropensci.org/technotes/2019/12/08/precompute-vignettes/">omite las viñetas</a> que requieran credenciales.</p>
</section></section><section id="furthersecreading" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="furthersecreading">
<span class="header-section-number">3.5</span> Lecturas adicionales</h2>
<p>Recursos útiles sobre seguridad:</p>
<ul>
<li><p><a href="https://ropensci.org/commcalls/2019-05-07/">Encuentro de la comunidad rOpenSci sobre “Seguridad para R”</a> (grabación, diapositivas, etc…). Ver en particular <a href="https://ropensci.org/blog/2019/04/09/commcall-may2019/#resources">la lista de recursos</a>);</p></li>
<li><p><a href="https://ropensci.org/blog/2018/06/06/unconf18_recap_2/">los proyectos relacionados con la seguridad de la unconf18</a>;</p></li>
<li><p><a href="https://ropensci.org/blog/2017/07/25/notary/">el paquete <code>notary</code></a>;</p></li>
<li><p><a href="gargle.r-lib.org/articles/articles/managing-tokens-securely.html">el artículo de <code>gargle</code> “Managing tokens securely”</a></p></li>
</ul></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./pkg_ci.es.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>  <span class="chapter-title">Buenas prácticas de integración continua</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./softwarereview_intro.es.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>  <span class="chapter-title">Revisión por pares del software, ¿por qué? ¿qué?</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body>
</html>
